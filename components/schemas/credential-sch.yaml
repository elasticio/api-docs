credentialIn:
  type: object
  required:
    - data
  properties:
    data:
      type: object
      $ref: '#/credentialData'
credentialsListOut:
  type: object
  required:
    - data
    - meta
  properties:
    data:
      type: array
      items:
        type: object
        $ref: '#/credentialData'
    meta:
      type: object
      example: '{}'
credentialOut:
  type: object
  required:
    - data
    - meta
  properties:
    data:
      type: object
      $ref: '#/credentialData'
    meta:
      type: object
      example: '{}'
credentialEditIn:
  type: object
  required:
    - data
  properties:
    data:
      type: object
      required:
      - id
      - type
      - attributes
      - relationships
      properties:
        id:
          type: string
          description: Credential identifier. It has to match the identifier specified in the path.
          example: 5b4f337bff4304610483ba67
        type:
          type: string
          description: Allowed value `credential`.
          enum:
            - credential
        attributes:
          type: object
          $ref: '#/credentialData/properties/attributes'
        relationships:
          type: object
          properties:
            vpn_agent:
              type: object
              $ref: '#/credentialData/properties/relationships/properties/vpn_agent'
credentialData:
  required:
    - id
    - type
    - links
    - attributes
    - relationships
  properties:
    id:
      type: string
      readOnly: true
      example: 5b4f337bff4304610483ba67
    type:
      type: string
      description: |
        Allowed value: `credential`
      enum:
        - credential
    links:
      type: object
      readOnly: true
      required:
        - self
      properties:
        self:
          type: string
          example: /v2/credentials/5b4f337bff4304610483ba67
    attributes:
      type: object
      properties:
        name:
          type: string
          description: Credential name. An automatic name will be generated if the parameter is omitted.
          example: Credential name
        keys:
          type: object
          description: |
            An object which represents component’s configuration (OAuth keys, etc.). API `attributes.keys` structure depends on `credentials.fields` property of component’s `component.json`. The keys from `credentials.fields` directly translate into keys of `attributes.keys`.
          example: |
            {"username":"John@yahoo.com", "password":"password"}
    relationships:
      type: object
      required:
        - component
        - workspace
        - vpn_agent
        - user
      properties:
        component:
          type: object
          required:
            - data
            - links
          properties:
            data:
              type: object
              required:
                - id
                - type
              properties:
                id:
                  type: string
                  description: The component identifier this credential is for
                  example: 5b4f337bff4304610483ba67
                type:
                  type: string
                  description: A value must be `component`
                  enum:
                    - component
            links:
              type: object
              readOnly: true
              required:
                - self
              properties:
                self:
                  type: string
                  example: /v2/components/5b4f337bff4304610483ba67
        workspace:
          type: object
          required:
            - data
            - links
          properties:
            data:
              type: object
              required:
                - id
                - type
              properties:
                id:
                  type: string
                  description: The Workspace identifier this credential is for
                  example: 5b4f337bff4304610483ba67
                type:
                  type: string
                  description: A value must be `workspace`
                  enum:
                    - workspace
            links:
              type: object
              readOnly: true
              required:
                - self
              properties:
                self:
                  type: string
                  example: /v2/workspaces/5b4f337bff4304610483ba67
        vpn_agent:
          type: object
          required:
            - data
            - links
          properties:
            data:
              type: object
              properties:
                id:
                  type: string
                  description: The vpn agent identifier this credential is for
                  example: 5b4f337bff4304610483ba67
                type:
                  type: string
                  description: A value must be `vpn-agent`
                  enum:
                    - vpn-agent
            links:
              type: object
              readOnly: true
              required:
                - self
              properties:
                self:
                  type: string
                  example: /v2/vpn_agents/5b4f337bff4304610483ba67
        user:
          type: object
          readOnly: true
          required:
            - data
            - links
          properties:
            data:
              type: object
              required:
                - id
                - type
              properties:
                id:
                  type: string
                  example: 5b4f337bff4304610483ba67
                type:
                  type: string
                  enum:
                    - user
            links:
              type: object
              required:
                - self
              properties:
                self:
                  type: string
                  example: /v2/users/5b4f337bff4304610483ba67
