/workspaces/{workspace_id}/secrets:
  get:
    tags:
       - auth secrets
    summary: Lists all auth secrets of the specified workspace
    description: You need `workspaces.auth_secret.get` permission to access this resource
    parameters:
      - $ref: '../components/parameters/workspace-params.yaml#/workspace_id'
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              $ref: '../components/schemas/secret-sch.yaml#/secretsListOut'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/401'
      '403':
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/403'
      '404':
        description: Not Found
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/404'
  post:
    tags:
      - auth secrets
    summary: Creates an auth secret
    description: |
      You need `workspaces.auth_secret.create` permission to access this resource. If related auth client has type `oauth2` then `credentials` object must contain properties `access_token`, `refresh_token`, otherwise if the type is other, then you can put in `credentials` any data that you want.
    parameters:
      - $ref: '../components/parameters/workspace-params.yaml#/workspace_id'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/secret-sch.yaml#/secretIn'
    responses:
      '201':
        description: Created
        content:
          application/json:
            schema:
              $ref: '../components/schemas/secret-sch.yaml#/secretOut'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/401'
      '403':
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/403'
      '404':
        description: Not Found
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/404'
/workspaces/{workspace_id}/secrets/{secret_id}:
  get:
    tags:
      - auth secrets
    summary: Returns the specified auth secret from the defined workspace.
    description: You need `workspaces.auth_secret.get` permission to access this resource
    parameters:
      - $ref: '../components/parameters/workspace-params.yaml#/workspace_id'
      - $ref: '../components/parameters/secret-params.yaml#/secret_id'
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              $ref: '../components/schemas/secret-sch.yaml#/secretOut'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/401'
      '403':
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/403'
      '404':
        description: Not Found
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/404'
  patch:
    tags:
      - auth secrets
    summary: Update the specified auth secret
    description: You need `workspaces.auth_secret.edit` permission to access this resource
    parameters:
      - $ref: '../components/parameters/workspace-params.yaml#/workspace_id'
      - $ref: '../components/parameters/secret-params.yaml#/secret_id'
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../components/schemas/secret-sch.yaml#/secretEditIn'
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              $ref: '../components/schemas/secret-sch.yaml#/secretOut'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/401'
      '403':
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/403'
      '404':
        description: Not Found
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/404'
  delete:
    tags:
      - auth secrets
    summary: Remove the specified auth secret.
    description: |
      You need `workspaces.auth_secret.delete` permission to access this resource.
    parameters:
      - $ref: '../components/parameters/workspace-params.yaml#/workspace_id'
      - $ref: '../components/parameters/secret-params.yaml#/secret_id'
    responses:
      '204':
        description: No Content
        content:
          application/json:
            schema:
              type: object
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/401'
      '403':
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/403'
      '404':
        description: Not Found
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/404'
/workspaces/{workspace_id}/secrets/{secret_id}/refresh:
  post:
    tags:
      - auth secrets
    summary: Refreshes the specified auth secret manually if it supports this operation.
    description: You need `workspaces.auth_secret.refresh` permission to access this resource
    parameters:
      - $ref: '../components/parameters/workspace-params.yaml#/workspace_id'
      - $ref: '../components/parameters/secret-params.yaml#/secret_id'
    responses:
      '200':
        description: OK
        content:
          application/json:
            schema:
              $ref: '../components/schemas/secret-sch.yaml#/secretOut'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/401'
      '403':
        description: Forbidden
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/403'
      '404':
        description: Not Found
        content:
          application/json:
            schema:
              $ref: '../components/schemas/errors-sch.yaml#/404'
