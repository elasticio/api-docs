<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","javascript"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="javascript">Node.js</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.elastic.io/en/demo-request/'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the elastic.io REST API!</p>

          <h1 id="authentication">Authentication</h1>

<p>You authenticate to the elastic.io API by providing your API key in the request.</p>

<p>Authentication to the API occurs via <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>. Provide your email as the basic auth username and API key as the password.</p>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/users <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>
</code></pre>

          <h1 id="accounts">Accounts</h1>

<h2 id="get-user&#39;s-accounts">Get user&rsquo;s accounts</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/accounts/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">accounts</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the accounts</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"55083c567aea6f030000001a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"My Component account"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"oauth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some key"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves list of user&rsquo;s accounts</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/accounts/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns a list of accounts if the call succeeded.</p>

<h2 id="get-user&#39;s-account">Get user&rsquo;s account</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/accounts/<span class="o">{</span>ACCOUNT_ID<span class="o">}</span>/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">({</span><span class="nx">ACCOUNT_ID</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">account</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the account</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55083c567aea6f030000001a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Component account"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ffca6ecc04c20600000001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"oauth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some key"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves one of user&rsquo;s accounts</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/accounts/{ACCOUNT_ID}/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ACCOUNT_ID</td>
<td>The ID of the account</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an account object if the call succeeded.</p>

<h2 id="add-new-account">Add new account</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v1/accounts/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
      "name": "My Component account",
      "type": "{COMPONENT_ID}",
      "keys": {
         "oauth": {
            "key": "some key"
      }
   }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"My Component account"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"{COMPONENT_ID}"</span><span class="p">,</span>
    <span class="s2">"keys"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"oauth"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"key"</span><span class="p">:</span> <span class="s2">"some key"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">account</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the account</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54982ee6bdf2a2030000000f"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Component account"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ffca6ecc04c20600000001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"oauth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some key"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint adds new key to list of user&rsquo;s keys</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/accounts/</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>no</td>
<td>Account name</td>
</tr>
<tr>
<td>type</td>
<td>no</td>
<td>The component id this account is for</td>
</tr>
<tr>
<td>keys</td>
<td>no</td>
<td>An object which represents component&rsquo;s configuration (OAuth keys, etc.)</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns account object if the call succeeded.</p>

<h2 id="modify-user&#39;s-account">Modify user&rsquo;s account</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/accounts/<span class="o">{</span>ACCOUNT_ID<span class="o">}</span>/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -X PUT <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
      {
          "name": "New account name"
      }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">update</span><span class="p">({</span><span class="nx">ACCOUNT_ID</span><span class="p">},</span> <span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"New account name"</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55083c567aea6f030000001a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New account name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ffca6ecc04c20600000001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"oauth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some key"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint modifies user&rsquo;s account</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.elastic.io/v1/accounts/{ACCOUNT_ID}/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ACCOUNT_ID</td>
<td>The ID of the account</td>
</tr>
</tbody></table>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>no</td>
<td>Account name</td>
</tr>
<tr>
<td>type</td>
<td>no</td>
<td>The component id this account is for</td>
</tr>
<tr>
<td>keys</td>
<td>no</td>
<td>An object which represents component&rsquo;s configuration (OAuth keys, etc.)</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a modified account object if the call succeeded.</p>

          <h1 id="components">Components</h1>

<h2 id="retrieve-private-components">Retrieve private components</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/components/mine <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">components</span><span class="p">.</span><span class="nx">mine</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">components</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with components</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Component title"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"viewClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TextFieldView"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your name"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"select"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Triggers Object&gt;"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Actions Object&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONGO_ID"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves list of user&rsquo;s components.
More details you can find <a href="http://docs.elastic.io/docs/component-descriptor">here</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/components/mine</code></p>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h3 id="response-fields">Response fields</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>icon</td>
<td>String</td>
<td>Icon in base64</td>
</tr>
<tr>
<td>triggers</td>
<td>Object</td>
<td><a href="http://docs.elastic.io/docs/component-descriptor#triggers-object">&lt;Triggers Object&gt;</a></td>
</tr>
<tr>
<td>actions</td>
<td>Object</td>
<td><a href="http://docs.elastic.io/docs/component-descriptor#actions-object">&lt;Actions Object&gt;</a></td>
</tr>
</tbody></table>

<h2 id="retrieve-public-components">Retrieve public components</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/components/public <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">components</span><span class="p">.</span><span class="kr">public</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">components</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with components</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"components"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Timer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Timer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;String&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Interval"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"model"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"day"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Every Day"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Every Hour"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"minute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Every Minute"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"prompt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select an interval"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"viewClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SelectView"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"timer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Timer"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./timer.js"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polling"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"out"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"fireTime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date-time"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MONGO_ID"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves list of public components
More details you can find <a href="http://docs.elastic.io/docs/component-descriptor">here</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/components/public</code></p>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h3 id="response-fields">Response fields</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>icon</td>
<td>String</td>
<td>Icon in base64</td>
</tr>
<tr>
<td>triggers</td>
<td>Object</td>
<td><a href="http://docs.elastic.io/docs/component-descriptor#triggers-object">&lt;Triggers Object&gt;</a></td>
</tr>
<tr>
<td>actions</td>
<td>Object</td>
<td><a href="http://docs.elastic.io/docs/component-descriptor#actions-object">&lt;Actions Object&gt;</a></td>
</tr>
</tbody></table>

<h2 id="retrieve-an-single-component-descriptor">Retrieve an single component descriptor</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">components</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">({</span><span class="nx">COMPONENT_ID</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">components</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with components</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55828f5a630d500800000003"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mock component"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mock"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your name"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"viewClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TextFieldView"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"getHello"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./lib/triggers/getHello.js"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polling"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Query Hello"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"out"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"object"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hello string"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"updateHello"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"./lib/actions/updateHello.js"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Update Hello"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"dynamicSelect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"viewClass"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SelectView"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"prompt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Select your value"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Value"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"getModel"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"dynamicMetadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nodejs"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sailor_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"icon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iVBORw0KGgoAAAANSUhEAAASUVORK5CYII="</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mock-component"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"team"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elasticio"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves an information about single component by it&rsquo;s ID
More details you can find <a href="http://docs.elastic.io/docs/component-descriptor">here</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/components/{COMPONENT_ID}</code></p>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h3 id="response-fields">Response fields</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>repo_id</td>
<td>String</td>
<td>ID of the component</td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>A component descriptor, see <a href="http://docs.elastic.io/docs/component-descriptor">&lt;here&gt;</a></td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>A name of the component repository</td>
</tr>
<tr>
<td>team</td>
<td>String</td>
<td>A name of the component repository team</td>
</tr>
</tbody></table>

          <h1 id="repositories">Repositories</h1>

<h2 id="get-user&#39;s-repositories">Get user&rsquo;s repositories</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/repos/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">repos</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">repos</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the repos</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555c5ade13c2298a9d32fe67"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testrepo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5538bc1c9c0f0522391900d4"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/repos/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h2 id="get-user&#39;s-repository">Get user&rsquo;s repository</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/repos/<span class="o">{</span>REPO_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">repos</span><span class="p">.</span><span class="nx">retrieve</span><span class="p">({</span><span class="nx">REPO_ID</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">repo</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the repo</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555c5ade13c2298a9d32fe67"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testrepo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5538bc1c9c0f0522391900d4"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/repos/{REPO_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>REPO_ID</td>
<td>yes</td>
<td>repository id</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h2 id="create-repository">Create repository</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/repos/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'
   {
       "name": "My Repo"
   }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">repos</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"My Repo"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">repo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the repo</span>
 <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"repository name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo_id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"team_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"team_id"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates new custom repository</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/repos/</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>no</td>
<td>repository name</td>
</tr>
<tr>
<td>team_id</td>
<td>no</td>
<td>team this repo will belong to</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h2 id="delete-repository">Delete repository</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/repos/<span class="o">{</span>REPO_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">repos</span><span class="p">.</span><span class="k">delete</span><span class="p">({</span><span class="nx">REPO_ID</span><span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{}</span><span class="w">
</span></code></pre>

<p>This endpoint delete repository</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v1/repos/{ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>REPO_ID</td>
<td>yes</td>
<td>repository id</td>
</tr>
</tbody></table>

<h2 id="get-env-vars">Get env vars</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/repos/<span class="o">{</span>REPO_ID<span class="o">}</span>/env/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">repos</span><span class="p">.</span><span class="nx">retrieveEnvVars</span><span class="p">({</span><span class="nx">REPO_ID</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">vars</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the env vars</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">    "API_KEY": "key",</span>
<span class="s">    "API_SECRET": "secret"</span>
<span class="s">}</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/repos/{REPO_ID}/env/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>REPO_ID</td>
<td>yes</td>
<td>Repository ID</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns environment variables of repository if the call succeeded.</p>

<h2 id="modify-env-vars">Modify env vars</h2>

<p>Update env vars for repository. You can update existing env vars by setting them again, and remove by setting it to NULL.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/repos/<span class="o">{</span>REPO_ID<span class="o">}</span>/env/ <span class="se">\</span>
   -X PUT <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> -d <span class="s1">'
   {
       "API_KEY": "new_key",
       "API_SECRET": "new_secret"
   }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">repos</span><span class="p">.</span><span class="nx">updateEnvVars</span><span class="p">({</span><span class="nx">REPO_ID</span><span class="p">},</span> <span class="p">{</span>
    <span class="s2">"API_KEY"</span><span class="p">:</span> <span class="s2">"new_key"</span><span class="p">,</span>
    <span class="s2">"API_SECRET"</span><span class="p">:</span> <span class="s2">"new_secret"</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">    "API_KEY": "new_key"</span>
<span class="s">}</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.elastic.io/v1/repos/{REPO_ID}/env/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>REPO_ID</td>
<td>yes</td>
<td>Repository ID</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns updated environment variables of repository if the call succeeded.</p>

          <h1 id="resources">Resources</h1>

<h2 id="s3:-create-a-signed-url">S3: Create a signed url</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/resources/s3/signed-url <span class="se">\</span>
   -X POST  <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">resources</span><span class="p">.</span><span class="nx">s3</span>
    <span class="p">.</span><span class="nx">createSignedUrl</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the result</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"put_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bucket.region.amazonaws.com/put"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"get_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bucket.region.amazonaws.com/get"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires"</span><span class="p">:</span><span class="w"> </span><span class="mi">18000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a new signed url in S3</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/resources/s3/signed-url</code></p>

<h3 id="returns">Returns</h3>

<p>Returns an HTTP 200 in case of successful url creation</p>

          <h1 id="scheduled-executions">Scheduled Executions</h1>

<p>A component execution is an asynchronous operation. Upon an client request an execution is scheduled
and needs to wait for the next available worker. Once a worker is available the component is executed
and the results are sent back to the client. Because the results of an execution cannot be created and
returned immediately the client needs to wait and poll for the results.</p>

<p>For more details about asynchronous REST please read <a href="http://restcookbook.com/Resources/asynchroneous-operations/">RESTful CookBook</a>
and <a href="https://www.adayinthelifeof.nl/2011/06/02/asynchronous-operations-in-rest/">A day in the life of - Asynchronous operations in REST</a>.</p>

<p>The following diagram displays the process of component scheduling:</p>

<ol>
<li>A component execution is scheduled by sending a request to <code class="prettyprint">exec/schedule</code>. The API responds with <code class="prettyprint">202 Accepted</code>. The resource in the <code class="prettyprint">Location</code> HTTP header is the url to poll for execution results.</li>
<li>The execution results are polled periodically by sending requests to the polling resource<code class="prettyprint">exec/poll/{EXECUTION_ID}</code>. The API responds with <code class="prettyprint">200 OK</code> if the result is not available yet.</li>
<li>Once the result is available the polling resource responds with <code class="prettyprint">303 See Other</code>. The resource in the <code class="prettyprint">Location</code> HTTP header is the url to get the results from.</li>
<li>The results are retrieved from <code class="prettyprint">exec/result/{EXECUTION_ID}</code>. Please note that the result may be retrieved only once.</li>
</ol>

<p><img title="Component execution" alt="Component execution" src="images/exec_sequence_diagram.png" /></p>

<h2 id="schedule-a-component-execution">Schedule a component execution</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v1/exec/schedule <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
      "execution_type": "get_meta_model",
      "action_or_trigger": "put",
      "component": "{CONNECTOR_ID}",
      "account_id": "{ACCOUNT_ID}"
    }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">exec</span><span class="p">.</span><span class="nx">schedule</span><span class="p">({</span>
    <span class="s2">"execution_type"</span><span class="p">:</span> <span class="s2">"get_meta_model"</span><span class="p">,</span>
    <span class="s2">"action_or_trigger"</span><span class="p">:</span> <span class="s2">"put"</span><span class="p">,</span>
    <span class="s2">"component"</span><span class="p">:</span> <span class="s2">"{CONNECTOR_ID}"</span><span class="p">,</span>
    <span class="s2">"account_id"</span><span class="p">:</span> <span class="s2">"{ACCOUNT_ID}"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>

    <span class="c1">// location contains the url to poll for results</span>
    <span class="kd">var</span> <span class="nx">location</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">location</span><span class="p">;</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">'https://api.elastic.io/v1/exec/poll/540492e623773659c5000002'</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Using this endpoint you can schedule a component execution.
It responds with the resource to poll on, in order to get the result of the scheduled execution.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/exec/schedule</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
<th>Used in</th>
</tr>
</thead><tbody>
<tr>
<td>execution_type</td>
<td>yes</td>
<td>&ldquo;get_meta_model&rdquo;, &ldquo;select_model&rdquo; or &ldquo;verify_credentials&rdquo;</td>
<td>all requests</td>
</tr>
<tr>
<td>component</td>
<td>yes</td>
<td>Specifies id of the connector to be executed</td>
<td>all requests</td>
</tr>
<tr>
<td>account_data</td>
<td>yes</td>
<td>Account data for validation</td>
<td>verify_credentials</td>
</tr>
<tr>
<td>action_or_trigger</td>
<td>yes</td>
<td>The name of action or trigger from connector</td>
<td>get_meta_model, select_model</td>
</tr>
<tr>
<td>account_id</td>
<td>yes</td>
<td>Account id</td>
<td>get_meta_model, select_model</td>
</tr>
<tr>
<td>model_method</td>
<td>yes</td>
<td>Name of the method from action or trigger to execute</td>
<td>select_model</td>
</tr>
<tr>
<td>cfg</td>
<td>no</td>
<td>Object with additional parameters</td>
<td>get_meta_model, select_model</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Responds with 202 Accepted and a &lsquo;Location&rsquo; header.
The &#39;Location&rsquo; header specifies a resource to poll on until the execution result is ready.</p>

<h2 id="poll-execution-result-status">Poll execution result status</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/exec/poll/<span class="o">{</span>EXECUTION_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">exec</span><span class="p">.</span><span class="nx">pollResult</span><span class="p">({</span><span class="nx">EXECUTION_ID</span><span class="p">})</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ready</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// do something with the result</span>
            <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">result</span><span class="p">;</span>
       <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// poll again</span>
       <span class="p">}</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Response &ldquo;In progress&rdquo;:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Result is not ready yet"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Response &ldquo;Result ready&rdquo;:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">303</span> <span class="ne">See Other</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">'https://api.elastic.io/v1/exec/result/540492e623773659c5000002'</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint provides information about the status of a scheduled component execution. Once the execution is done, the endpoint responds with status code 303 and provides a resource to query the result in the &#39;Location&rsquo; header.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/exec/poll/{EXECUTION_ID}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>EXECUTION_ID</td>
<td>yes</td>
<td>The id of a previously scheduled execution</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<table><thead>
<tr>
<th>Status Code</th>
<th>Body</th>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>500</td>
<td><code class="prettyprint">{message: &#39;Internal Server Error&#39;}</code></td>
<td>-</td>
<td>An error occured on the server</td>
</tr>
<tr>
<td>404</td>
<td><code class="prettyprint">{message: &#39;Result does not exist.&#39;}</code></td>
<td>-</td>
<td>An attempt to poll for a non scheduled execution was made</td>
</tr>
<tr>
<td>404</td>
<td><code class="prettyprint">{message: &#39;Expired.&#39;}</code></td>
<td>-</td>
<td>The execution has expired</td>
</tr>
<tr>
<td>200</td>
<td><code class="prettyprint">{message: &#39;Result not ready yet.&#39;}</code></td>
<td>-</td>
<td>The execution hasn&rsquo;t completed yet</td>
</tr>
<tr>
<td>303</td>
<td><code class="prettyprint">{ message: &quot;Ready.&quot; }</code></td>
<td>Location</td>
<td>The execution is finished and the result is ready. Resource to get the result is found in the &#39;Location header&rsquo;</td>
</tr>
</tbody></table>

<h2 id="get-execution-result">Get execution result</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/exec/result/<span class="o">{</span>EXECUTION_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="c1">// As client.exec.pollResult will follow the HTTP 3003 redirect,</span>
<span class="c1">// Node.js client does not provide extra functionality to retrieve the results.</span>
<span class="c1">// Read the docs of client.exec.pollResult above.</span>
</code></pre>

<blockquote>
<p>Response &ldquo;Result available&rdquo;</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"some"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Response &ldquo;Result not found&rdquo;</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">404</span> <span class="ne">Not found</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Result does not exist"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint exposes the component execution result(error) and is the final resource to call in the component execution flow in the API.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/exec/result/{EXECUTION_ID}</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>EXECUTION_ID</td>
<td>yes</td>
<td>The id of a previously scheduled execution</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<table><thead>
<tr>
<th>Status Code</th>
<th>Body</th>
<th>Header</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>500</td>
<td><code class="prettyprint">{message: &#39;Internal Server Error&#39;}</code></td>
<td>-</td>
<td>An error occurred on the server</td>
</tr>
<tr>
<td>404</td>
<td><code class="prettyprint">{message: &#39;Result does not exist.&#39;}</code></td>
<td>-</td>
<td>An attempt to poll for a non scheduled execution was made</td>
</tr>
<tr>
<td>400</td>
<td><code class="prettyprint">{message: &#39;Rejected.&#39;, reason: {...}}</code></td>
<td>-</td>
<td>The execution has resulted in an error. The body of the response will contain the error object under the &#39;reason&rsquo; property of the response.</td>
</tr>
<tr>
<td>200</td>
<td><code class="prettyprint">{ data: {...} }</code></td>
<td>-</td>
<td>The json representation of the execution result can be found under the &#39;data&rsquo; property of the response.</td>
</tr>
</tbody></table>

          <h1 id="ssh-keys">SSH keys</h1>

<h2 id="retrieve-all-keys">Retrieve all keys</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/sshkey/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sshkeys</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">keys</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the keys</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54982ee6bdf2a2030000000f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Key"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fingerprint"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_id"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"ssh_key"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves list of user&rsquo;s keys</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/sshkey/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns a ssh key&rsquo;s metadata object if the call succeeded. The returned object will have an keys&rsquo;s title, id and fingerPrint metadata.</p>

<h2 id="add-new-key">Add new key</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v1/sshkey/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "key": "ssh-rsa YOUR KEY GOES HERE,
       "title": "My Key"
   }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sshkeys</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="s2">"key"</span><span class="p">:</span> <span class="s2">"ssh-rsa YOUR KEY GOES HERE"</span><span class="p">,</span>
    <span class="s2">"title"</span><span class="p">:</span> <span class="s2">"My Key"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the key</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54982ee6bdf2a2030000000f"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Key"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fingerprint"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_id"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"ssh_key"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint adds new key to list of user&rsquo;s keys</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/sshkey/</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>yes</td>
<td>valid RSA or DSA SSH public key</td>
</tr>
<tr>
<td>title</td>
<td>no</td>
<td>key title</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a ssh key&rsquo;s metadata object if the call succeeded. The returned object will have an keys&rsquo;s title, id and fingerPrint metadata.</p>

<h2 id="delete-a-key">Delete a key</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/sshkey/<span class="o">{</span>KEY_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -X DELETE
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">sshkeys</span><span class="p">.</span><span class="k">delete</span><span class="p">({</span><span class="nx">KEY_ID</span><span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{}</span><span class="w">
</span></code></pre>

<p>This endpoint delete specified ssh key</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v1/sshkey/{ID}</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>KEY_ID</td>
<td>yes</td>
<td>Key ID</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns empty response on success request</p>

          <h1 id="tasks">Tasks</h1>

<h2 id="create-task">Create task</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v1/tasks <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
        "name" : "WebHook to Mailchimp",
        "nodes" : [
            {
                "function" : "elasticio/webhook:receive",
                "config": {
                    "payload": "email,first,last"
                }
            },
            {
                "function" : "elasticio/mapper:map",
                "config": {
                    "mapper" : {
                        "lastName" : "{{last}}",
                        "firstName" : "{{first}}",
                        "salutation" : "{{salutation}}",
                        "email_type" : "html",
                        "email" : "{{email}}"
                    },
                    "lookup_tables": {
                        "salutation": "lookup-table-id-to-be-used-for-salutation"
                    }
               }
            },
            {
                "function" : "elsaticio/mailchimp:subscribe",
                "account" : "54536902230d250700000016",
                "config": {
                    "listId" : "8779dd762e"
               }
            }
        ]
    }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="s2">"name"</span> <span class="p">:</span> <span class="s2">"WebHook to Mailchimp"</span><span class="p">,</span>
    <span class="s2">"nodes"</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"function"</span> <span class="p">:</span> <span class="s2">"elasticio/webhook:receive@1234abc"</span><span class="p">,</span>
            <span class="s2">"config"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"payload"</span><span class="p">:</span> <span class="s2">"email,first,last"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"function"</span> <span class="p">:</span> <span class="s2">"elasticio/mapper:map"</span><span class="p">,</span>
            <span class="s2">"config"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"mapper"</span> <span class="p">:</span> <span class="p">{</span>
                    <span class="s2">"lastName"</span> <span class="p">:</span> <span class="s2">"{{last}}"</span><span class="p">,</span>
                    <span class="s2">"firstName"</span> <span class="p">:</span> <span class="s2">"{{first}}"</span><span class="p">,</span>
                    <span class="s2">"salutation"</span> <span class="p">:</span> <span class="s2">"{{salutation}}"</span><span class="p">,</span>
                    <span class="s2">"email_type"</span> <span class="p">:</span> <span class="s2">"html"</span><span class="p">,</span>
                    <span class="s2">"email"</span> <span class="p">:</span> <span class="s2">"{{email}}"</span>
                <span class="p">},</span>
                <span class="s2">"lookup_tables"</span><span class="err">:</span> <span class="p">{</span>
                    <span class="s2">"salutation"</span><span class="err">:</span> <span class="s2">"lookup-table-id-to-be-used-for-salutation"</span>
                <span class="p">}</span>
           <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">"function"</span> <span class="p">:</span> <span class="s2">"elsaticio/mailchimp:subscribe"</span><span class="p">,</span>
            <span class="s2">"account"</span> <span class="p">:</span> <span class="s2">"54536902230d250700000016"</span><span class="p">,</span>
            <span class="s2">"config"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"listId"</span> <span class="p">:</span> <span class="s2">"8779dd762e"</span>
           <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">task</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the task</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"55083c567aea6f030000001a"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a new task for user</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/tasks/</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>yes</td>
<td>task name</td>
</tr>
<tr>
<td>nodes</td>
<td>yes</td>
<td>task nodes</td>
</tr>
<tr>
<td>cron</td>
<td>no</td>
<td>cron expression defining task&rsquo;s scheduling period</td>
</tr>
</tbody></table>

<h4 id="nodes-format">Nodes format</h4>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"function"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"{TEAM}/{COMPONENT}:{ACTION}@{REVISION}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"{KEY}"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{VALUE}"</span><span class="p">,</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="err">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">function</code> key represents component to run. <code class="prettyprint">{TEAM}</code> is name of team which owns component, <code class="prettyprint">{COMPONENT}</code> is name of teams&rsquo;s repository with component code, <code class="prettyprint">{ACTION}</code> is action/trigger name to run and <code class="prettyprint">{REVISION}</code> is git hash of commit in repository. If <code class="prettyprint">@{REVISION}</code> is ommited - latest successfull build for <code class="prettyprint">{TEAM}/{COMPONENT}</code> is used.</p>

<p><code class="prettyprint">config</code> key represents data which will be passed as config argument to action/trigger.</p>

<h3 id="returns">Returns</h3>

<p>Returns tasks id object if the call succeeded.</p>

<h2 id="start-a-task">Start a Task</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl -X POST https://api.elastic.io/v1/tasks/start/<span class="o">{</span>TASK_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">start</span><span class="p">({</span><span class="nx">TASK_ID</span><span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5538bd9646208d02b3000005"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"active"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint starts a given integration task.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/tasks/start/{TASK_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TASK_ID</td>
<td>The ID of the task to start</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Result of starting the task.</p>

<h2 id="stop-a-task">Stop a Task</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl -X POST https://api.elastic.io/v1/tasks/stop/<span class="o">{</span>TASK_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="nx">stop</span><span class="p">({</span><span class="nx">TASK_ID</span><span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5538bd9646208d02b3000005"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint stops a given integration task.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/tasks/stop/{TASK_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TASK_ID</td>
<td>The ID of the task to stop</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Result of stopping the task.</p>

<h2 id="delete-a-task">Delete a Task</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl -X DELETE https://api.elastic.io/v1/tasks/<span class="o">{</span>TASK_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">tasks</span><span class="p">.</span><span class="k">delete</span><span class="p">({</span><span class="nx">TASK_ID</span><span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5538bd9646208d02b3000005"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint deleted a given integration task.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v1/tasks/{TASK_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>TASK_ID</td>
<td>The ID of the task to delete</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Result of task deletion: task id and its new status (&ldquo;deleted&rdquo;)</p>

          <h1 id="teams">Teams</h1>

<h2 id="get-user&#39;s-teams">Get user&rsquo;s teams</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/teams/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">teams</span><span class="p">.</span><span class="nx">list</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">teams</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with the teams</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"55083c567aea6f030000001a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"My team"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"members"</span><span class="p">:[</span><span class="w">
            </span><span class="s2">"5508411b34e5ac0300000019"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"510fc14d173cff0200000003"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves list of user&rsquo;s teams</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/teams/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns teams metadata object if the call succeeded.</p>

<h2 id="create-team">Create team</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v1/teams <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "name": "My team"
   }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">teams</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"My team"</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">team</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the team</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"55083c567aea6f030000001a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"My team"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"members"</span><span class="p">:[</span><span class="s2">"5508411b34e5ac0300000019"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates new team for user</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/teams/</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>no</td>
<td>team name</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns teams metadata object if the call succeeded.</p>

          <h1 id="users">Users</h1>

<h2 id="retrieve-your-user">Retrieve your user</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/users <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">me</span><span class="p">()</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something with your user</span>
    <span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54f4be3fe7d5224f91000001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@example.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint returns your own user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v1/users</code></p>

<h4 id="returns">Returns</h4>

<p>Returns a user object if the call succeeded.</p>

<h2 id="create-a-user">Create a user</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/users <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
      "first_name": "John",
      "last_name": "Doe",
      "email": "test@example.com",
      "password": "secret",
      "company": "Doe &amp; Partners",
      "organizations": [
        {"id": "54f4be3fe7d5224f91000001"}
      ]
   }'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
    <span class="s2">"first_name"</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
    <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
    <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"test@example.com"</span><span class="p">,</span>
    <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"secret"</span><span class="p">,</span>
    <span class="s2">"company"</span><span class="p">:</span> <span class="s2">"Doe &amp; Partners"</span><span class="p">,</span>
    <span class="s2">"organizations"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">"id"</span><span class="p">:</span> <span class="s2">"54f4be3fe7d5224f91000001"</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something with the user</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54f4be3fe7d5224f91000001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe &amp; Partners"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"api_secret"</span><span class="p">:</span><span class="s2">"7a00b1ec-a0a8-4cea-84d2-d26052c8b788"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint registers a new user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v1/users</code></p>

<h3 id="arguments">Arguments</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>first_name</td>
<td>yes</td>
<td>The user&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td>yes</td>
<td>The user&rsquo;s last name</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>The user&rsquo;s email</td>
</tr>
<tr>
<td>password</td>
<td>yes</td>
<td>The user&rsquo;s password</td>
</tr>
<tr>
<td>organizations</td>
<td>yes</td>
<td>An array of organizations to join</td>
</tr>
<tr>
<td>company</td>
<td>no</td>
<td>The user&rsquo;s company</td>
</tr>
<tr>
<td>callback</td>
<td>no</td>
<td>Callback Url to call the result with</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<h4 id="no-callback-provided">No Callback Provided</h4>

<p>A created user object.</p>

<p>New user objects will be provided with an <code class="prettyprint">id</code> and <code class="prettyprint">api_secret</code> fields - these values cannot be created or edited by clients.</p>

<p>The <code class="prettyprint">api_secret</code> field is used to communicate with the API on user&rsquo;s behalf.</p>

<h4 id="with-callback-provided">With Callback Provided</h4>

<p><code class="prettyprint">{&quot;message&quot;: &quot;accepted&quot;}</code></p>

<p>When the user is created the provided <code class="prettyprint">callback_url</code> will be called with the resulting user object.</p>

<p>New user objects will be provided with an <code class="prettyprint">id</code> and <code class="prettyprint">api_secret</code> fields - these values cannot be created or edited by clients.</p>

<p>The <code class="prettyprint">api_secret</code> field is used to communicate with the API on user&rsquo;s behalf.</p>

<h2 id="delete-one-of-the-created-users">Delete one of the created users</h2>

<p>This method works with following limitations:</p>

<ul>
<li>You can only delete users that you created</li>
<li>You can not delete a user who&rsquo;s identity is provided via authentication for a call</li>
</ul>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v1/users/<span class="o">{</span>USER_ID<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>
<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'elasticio-rest-node'</span><span class="p">)(</span>
    <span class="s1">'YOUR_EMAIL'</span><span class="p">,</span> <span class="s1">'YOUR_API_KEY'</span>
<span class="p">);</span>

<span class="nx">client</span><span class="p">.</span><span class="nx">users</span><span class="p">.</span><span class="k">delete</span><span class="p">({</span><span class="nx">USER_ID</span><span class="p">});</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully delete user id=123456789"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v1/users/123456</code></p>

<h4 id="returns">Returns</h4>

<p>Returns an HTTP 200 in case of successful deletion</p>

          <h1 id="errors">Errors</h1>

<p>The elastic.io API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slown down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="javascript">Node.js</a>
          </div>
      </div>
    </div>
  </body>
</html>
