<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://www.elastic.io/en/demo-request/'>Sign Up for a Developer Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to elastic.io. This documentation is a full reference for the REST API documentation v2.
The API implements the <a href="http://jsonapi.org">JSON API</a> specification. We encourage the reader to familiarise himself
with the details of the <a href="http://jsonapi.org">JSON API</a> specification.</p>

<h2 id="authentication">Authentication</h2>

<p>You authenticate to the elastic.io API by providing your API key in the request.</p>

<p>Authentication to the API occurs via <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>. Provide your email as the basic auth username and API key as the password.</p>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users/me <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<h2 id="status-codes">Status Codes</h2>

<h3 id="success">Success</h3>

<p>The elastic.io API responds with following status codes upon successful requests:</p>

<table><thead>
<tr>
<th>Status Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok &ndash; Successful HTTP requests</td>
</tr>
<tr>
<td>201</td>
<td>Created &ndash;  requested resource has been created successfully</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<p>The elastic.io API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; The server cannot or will not process the request due to an apparent client error</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The request was valid, but the server is refusing action. The user might not have the necessary permissions for a resource</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>409</td>
<td>The resource object’s type is not among the type(s) that constitute the collection represented by the endpoint or a POST request to create a resource with a client-generated ID that already exists</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The resource requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many resources! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We have a problem with our server. Try again later</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later</td>
</tr>
</tbody></table>

          <h1 id="components">Components</h1>

<h2 id="accessing-and-sharing-components">Accessing and sharing components</h2>

<p>Each <code class="prettyprint">Component</code> belongs to a <code class="prettyprint">Team</code>. Each <code class="prettyprint">User</code>  who is a member of the team can edit the component.</p>

<p>The component has an attribute <code class="prettyprint">access</code>, which indicates how is the component shared by the other clients. &ldquo;Shared&rdquo; means, that the component can be used by the users in their flows.
There are three sharing modes:</p>

<ul>
<li><code class="prettyprint">team</code> – no sharing. Only organization members can use the component.</li>
<li><code class="prettyprint">tenant</code> – component could be used by the other clients in the tenant.</li>
<li><code class="prettyprint">global</code> – special mode for components from the standard set of components of Elastic.io Platform (e.g. <code class="prettyprint">timer</code>, <code class="prettyprint">webhook</code> etc). Any user of the platform can use <code class="prettyprint">global</code> components.</li>
</ul>

<p>Accordingly, a set of components, available for each user is consist of: not shared components from the user&rsquo;s organization, components with <code class="prettyprint">tenant</code> access and <code class="prettyprint">global</code> components.</p>

<table><thead>
<tr>
<th>Request \ Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all components</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve a component by ID</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve component versions</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve a component descriptor</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Create a component repository</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Update component access</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Delete a component</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Retrieve component’s environment variables</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Update component’s environment variables</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-components">Retrieve all components</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":[</span>
<span class="s">    {</span>
<span class="s">      "id":"{COMPONENT_ID}",</span>
<span class="s">      "type":"component",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/components/{COMPONENT_ID}"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "name":"name",</span>
<span class="s">        "team_name":"team_name"</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "versions":{</span>
<span class="s">          "links":{</span>
<span class="s">            "related":"/v2/components/{COMPONENT_ID}/versions"</span>
<span class="s">          }</span>
<span class="s">        },</span>
<span class="s">        "latest_version":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{GIT_REVISION}",</span>
<span class="s">            "type":"version"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}/versions/latest"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "meta":{},</span>
<span class="s">  "included":[</span>
<span class="s">    {</span>
<span class="s">      "id":"{GIT_REVISION}",</span>
<span class="s">      "type":"version",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/versions/{GIT_REVISION}"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "date":1517392057184,</span>
<span class="s">        "version_number":69</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "descriptor":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"0eff1d1a46b78ba1f468982e16d0382e8a91280d",</span>
<span class="s">            "type":"descriptor"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}/versions/{GIT_REVISION}/descriptor"</span>
<span class="s">          }</span>
<span class="s">        },</span>
<span class="s">        "component":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{COMPONENT_ID}",</span>
<span class="s">            "type":"component"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":"0eff1d1a46b78ba1f468982e16d0382e8a91280d",</span>
<span class="s">      "type":"descriptor",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/descriptors/0eff1d1a46b78ba1f468982e16d0382e8a91280d"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "repo_name":"repo_name",</span>
<span class="s">        "team_name":"team_name",</span>
<span class="s">        "short_revision":"0eff1d1",</span>
<span class="s">        "is_latest":true,</span>
<span class="s">        "description":"desc",</span>
<span class="s">        "icon":"BASE64",</span>
<span class="s">        "language":"nodejs",</span>
<span class="s">        "sailor_version":"2.1.6",</span>
<span class="s">        "title":"Data mapper",</span>
<span class="s">        "service":"mapper",</span>
<span class="s">        "actions":{</span>
<span class="s">          "map":{</span>
<span class="s">            "title":"Mapper",</span>
<span class="s">            "main":"./map.js"</span>
<span class="s">          },</span>
<span class="s">          "jsonataMap":{</span>
<span class="s">            "title":"Jsonata mapper",</span>
<span class="s">            "main":"./jsonata_map.js"</span>
<span class="s">          }</span>
<span class="s">        },</span>
<span class="s">        "fields":{</span>
<span class="s">          "mapper":{</span>
<span class="s">            "viewClass":"MapperView"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "version":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{GIT_REVISION}",</span>
<span class="s">            "type":"version"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/{COMPONENT_ID}/versions/{GIT_REVISION}"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "links":{</span>
<span class="s">    "self":"/v2/components"</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint retrieves a list of available components.
Response includes latest <a href="#retrieve-a-component-descriptor">descriptor</a> for each component.
More details about the component descriptors can be found <a href="#component-descriptor-doc">here</a>. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/components</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">filter[access]</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Allowed values: <code class="prettyprint">private</code> (only components from own organizations returned), <code class="prettyprint">public</code> (only shared components from the other organizations) and <code class="prettyprint">all</code> (default value, returns all available components).</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns repositories metadata object if the call succeeded.</p>

<h2 id="retrieve-a-component-by-id">Retrieve a component by ID</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"{COMPONENT_ID}",</span>
<span class="s">    "type":"component",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/components/{COMPONENT_ID}"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "name":"component name",</span>
<span class="s">      "team_name":"{team_name}"</span>
<span class="s">    },</span>
<span class="s">    "relationships":{</span>
<span class="s">      "versions":{</span>
<span class="s">        "links":{</span>
<span class="s">          "related":"/v2/components/{COMPONENT_ID}/versions"</span>
<span class="s">        }</span>
<span class="s">      },</span>
<span class="s">      "latest_version":{</span>
<span class="s">        "data":{</span>
<span class="s">          "id":"{GIT_REVISION}",</span>
<span class="s">          "type":"version"</span>
<span class="s">        },</span>
<span class="s">        "links":{</span>
<span class="s">          "self":"/v2/components/{COMPONENT_ID}/versions/latest"</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{},</span>
<span class="s">  "included":[</span>
<span class="s">    {</span>
<span class="s">      "id":"{GIT_REVISION}",</span>
<span class="s">      "type":"version",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/versions/{GIT_REVISION}"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "date":1513183339032,</span>
<span class="s">        "version_number":7</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "descriptor":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{GIT_REVISION}",</span>
<span class="s">            "type":"descriptor"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}/versions/{GIT_REVISION}/descriptor"</span>
<span class="s">          }</span>
<span class="s">        },</span>
<span class="s">        "component":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{COMPONENT_ID}",</span>
<span class="s">            "type":"component"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":"{GIT_REVISION}",</span>
<span class="s">      "type":"descriptor",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/descriptors/{GIT_REVISION}"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "repo_name":"repo_name",</span>
<span class="s">        "team_name":"team_name",</span>
<span class="s">        "short_revision":"df7cf1d",</span>
<span class="s">        "is_latest":true,</span>
<span class="s">        "description":"desc",</span>
<span class="s">        "icon":"BASE64",</span>
<span class="s">        "language":"nodejs",</span>
<span class="s">        "sailor_version":"2.2.1",</span>
<span class="s">        "title":"title",</span>
<span class="s">        "actions":{</span>
<span class="s">          "update":"&lt;Actions Object&gt;"</span>
<span class="s">        },</span>
<span class="s">        "triggers":{</span>
<span class="s">          "select":"&lt;Triggers Object&gt;"</span>
<span class="s">        },</span>
<span class="s">        "credentials":{</span>
<span class="s">          "fields":{</span>
<span class="s">            "apiKey":{</span>
<span class="s">              "label":"API key",</span>
<span class="s">              "required":true,</span>
<span class="s">              "viewClass":"TextFieldWithNoteView",</span>
<span class="s">              "note":"{note}"</span>
<span class="s">            }</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "version":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{GIT_REVISION}",</span>
<span class="s">            "type":"version"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/{COMPONENT_ID}/versions/{GIT_REVISION}"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ]</span>
<span class="s">}</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/components/{COMPONENT_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Component identifier</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>The component should be accessible to the client (e.g. component from the own organization or shared one) unless it has <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>This endpoint returns a component object and includes latest <a href="#retrieve-a-component-descriptor">descriptor</a> for each component.</p>

<h2 id="retrieve-component-versions">Retrieve component versions</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/versions <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":[</span>
<span class="s">    {</span>
<span class="s">      "id":"{GIT_REVISION}",</span>
<span class="s">      "type":"version",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/versions/{GIT_REVISION}"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "date":1508754889997,</span>
<span class="s">        "version_number":1</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "descriptor":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{GIT_REVISION}",</span>
<span class="s">            "type":"descriptor"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}/versions/{GIT_REVISION}/descriptor"</span>
<span class="s">          }</span>
<span class="s">        },</span>
<span class="s">        "component":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"{COMPONENT_ID}",</span>
<span class="s">            "type":"component"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/components/{COMPONENT_ID}"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "meta":{},</span>
<span class="s">  "links":{</span>
<span class="s">    "self":"/v2/components/{COMPONENT_ID}/versions"</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint retrieves list of component&rsquo;s versions</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/components/{COMPONENT_ID}/versions</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Component identifier</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>The component should be accessible to the client (e.g. component from the own organization or shared one) unless it has <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>Returns repositories build metadata object if the call succeeded.</p>

<h2 id="retrieve-a-component-descriptor">Retrieve a component descriptor</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/versions/<span class="o">{</span>GIT_REVISION<span class="o">}</span>/descriptor <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"{GIT_REVISION}",</span>
<span class="s">    "type":"descriptor",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/descriptors/{GIT_REVISION}"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "repo_name":"repo_name",</span>
<span class="s">      "team_name":"team_name",</span>
<span class="s">      "short_revision":"cf0a2d9",</span>
<span class="s">      "is_latest":true,</span>
<span class="s">      "description":"desc",</span>
<span class="s">      "icon":"BASE64",</span>
<span class="s">      "language":"nodejs",</span>
<span class="s">      "sailor_version":"2.2.1",</span>
<span class="s">      "title":"title",</span>
<span class="s">      "actions":{</span>
<span class="s">        "update":"&lt;Actions Object&gt;"</span>
<span class="s">      },</span>
<span class="s">      "triggers":{</span>
<span class="s">        "select":"&lt;Triggers Object&gt;"</span>
<span class="s">      },</span>
<span class="s">      "credentials":{</span>
<span class="s">        "fields":{</span>
<span class="s">          "apiKey":{</span>
<span class="s">            "label":"API key",</span>
<span class="s">            "required":true,</span>
<span class="s">            "viewClass":"TextFieldWithNoteView",</span>
<span class="s">            "note":"note"</span>
<span class="s">          }</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    "relationships":{</span>
<span class="s">      "version":{</span>
<span class="s">        "data":{</span>
<span class="s">          "id":"{GIT_REVISION}",</span>
<span class="s">          "type":"version"</span>
<span class="s">        },</span>
<span class="s">        "links":{</span>
<span class="s">          "self":"/v2/{COMPONENT_ID}/versions/{GIT_REVISION}"</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint retrieves an information about single component by it&rsquo;s <code class="prettyprint">ID</code> and/or <code class="prettyprint">version</code>,
for latest version use <code class="prettyprint">latest</code>. More details can be find <a href="#retrieve-a-component-descriptor">here</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/components/{COMPONENT_ID}/versions/{GIT_REVISION}/descriptor</code></p>

<p>or</p>

<p><code class="prettyprint">GET https://api.elastic.io/v2/components/{COMPONENT_ID}/versions/latest/descriptor</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Component identifier</td>
</tr>
<tr>
<td style="text-align: left">GIT_REVISION</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Revision of the component’s build. Use <code class="prettyprint">latest</code> to retrieve the descriptor of the most recent successful build.</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>The component should be accessible for the client (e.g. component from own organization or shared one) unless it has <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>Returns component <a href="#retrieve-a-component-descriptor">descriptor</a> if the call succeeded.</p>

<h2 id="create-a-component-repository">Create a component repository</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/ <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "data": {
           "type": "component",
           "attributes": {
               "name": "mycomponent"
           },
           "relationships": {
               "team": {
                   "data": {
                       "type": "team",
                       "id": "{TEAM_ID}"
                   }
               }
           }
       }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"{REPOSITORY_ID}",</span>
<span class="s">    "type":"component",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/components/{REPOSITORY_ID}"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "name":"{REPOSITORY_NAME}",</span>
<span class="s">      "team_name":"{TEAM_NAME}"</span>
<span class="s">    },</span>
<span class="s">    "relationships":{</span>
<span class="s">      "versions":{</span>
<span class="s">        "links":{</span>
<span class="s">          "related":"/v2/components/{REPOSITORY_ID}/versions"</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This resource allows you to create a component repository. A component repository always belongs to a team.
If you don&rsquo;t have any teams yet, please <a href="#create-team">create a team</a> first.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/components</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">component</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Repository name</td>
</tr>
<tr>
<td style="text-align: left">attributes.icon</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Component icon as base64 string</td>
</tr>
<tr>
<td style="text-align: left">relationships.team.data.id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Team ID the repository to create for</td>
</tr>
<tr>
<td style="text-align: left">relationships.team.data.type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">team</code></td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns component&rsquo;s metadata object if the call succeeded.</p>

<h2 id="update-component-access">Update component access</h2>

<p>This resource allows you to changing component&rsquo;s access level from <code class="prettyprint">team</code> to <code class="prettyprint">tenant</code>.</p>

<p>Please note, that this action is irreversible i.e. API does not allow to change <code class="prettyprint">access</code> back to <code class="prettyprint">team</code>.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span> <span class="se">\</span>
   -X PATCH <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "data": {
           "type": "component",
           "attributes": {
               "access": "tenant"
           }
       }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"{COMPONENT_ID}",</span>
<span class="s">    "type":"component",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/components/{COMPONENT_ID}"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "name":"name",</span>
<span class="s">      "team_name":"team_name"</span>
<span class="s">    },</span>
<span class="s">    "relationships":{</span>
<span class="s">      "versions":{</span>
<span class="s">        "links":{</span>
<span class="s">          "related":"/v2/components/{COMPONENT_ID}/versions"</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH https://api.elastic.io/v2/components/{COMPONENT_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Component identifier</td>
</tr>
</tbody></table>

<h3 id="access-level">Access level</h3>

<p>A component may have one of the following access level:</p>

<ul>
<li><code class="prettyprint">team</code> – no sharing. Only team members can use the component.</li>
<li><code class="prettyprint">tenant</code> – component could be used by the other clients in the tenant.</li>
<li><code class="prettyprint">global</code> – special mode for components from the standard set of components of Elastic.io Platform (e.g. <code class="prettyprint">timer</code>, <code class="prettyprint">webhook</code> etc). Any user of the platform can use <code class="prettyprint">global</code> components.</li>
</ul>

<h3 id="authorization">Authorization</h3>

<p>This request is authorized for a user with <code class="prettyprint">TenantAdmin</code> role only. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>Returns updated component&rsquo;s metadata object if the call succeeded.</p>

<h2 id="delete-a-component">Delete a component</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>This resource allows you to delete a component. A component may only be delete if it not used in any flow.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/components/{COMPONENT_ID}/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Component ID</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>The component must belong to one of the client’s team or organization respectively unless it has <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>200 HTTP response code if the call succeeds, error otherwise.</p>

<h2 id="retrieve-component&#39;s-environment-variables">Retrieve component&rsquo;s environment variables</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/env <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>

</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "attributes":{</span>
<span class="s">      "vars":{</span>
<span class="s">        "MY_ENV_VAR":"env_var_value"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    "id":"{COMPONENT_ID}",</span>
<span class="s">    "type":"component-env",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/component-envs/{COMPONENT_ID}"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint shows env vars for given component.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/components/{COMPONENT_ID}/env</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Component ID</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>The component should be accessible to the client (e.g. component from the own team or shared one) unless it has <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>Returns environment variables</p>

<h2 id="update-component&#39;s-environment-variables">Update component&rsquo;s environment variables</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/env <span class="se">\</span>
   -X PUT <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "data": {
           "type": "component-env",
           "attributes": {
               "vars": {
                   "MY_ENV_VAR": "env_var_value"
               }
           }
       }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "attributes":{</span>
<span class="s">      "vars":{</span>
<span class="s">        "MY_ENV_VAR":"env_var_value"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    "id":"{COMPONENT_ID}",</span>
<span class="s">    "type":"component-env",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/component-envs/{COMPONENT_ID}"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint replaces env vars for given component.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.elastic.io/v2/components/{COMPONENT_ID}/env</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Component ID</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">component-env</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.vars</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">JSON object representing environmental variables mapped to their values.</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>The component should be accessible to the client (e.g. component from the own team or shared one) unless it has <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>Returns environment variables</p>

          <h1 id="resources">Resources</h1>

<h2 id="storage:-create-a-signed-url">Storage: Create a signed url</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/resources/storage/signed-url <span class="se">\</span>
   -X POST  <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"put_url"</span><span class="p">:</span><span class="s2">"https://steward_host/files/1ksksiaö"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"get_url"</span><span class="p">:</span><span class="s2">"https://steward_host/files/34rwer34"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires"</span><span class="p">:</span><span class="mi">18000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint creates a new signed url in Storage</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/resources/storage/signed-url</code></p>

<h3 id="returns">Returns</h3>

<p>Returns an HTTP 200 in case of successful url creation</p>

          <h1 id="credentials">Credentials</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all credentials</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve a credential by ID</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Create a credential</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Update a credential</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Delete a credential</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<p>*- just only with credentials, which were created by this user</p>

<h2 id="retrieve-all-credentials">Retrieve all credentials</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/credentials/?filter[component]<span class="o">={</span>COMPONENT_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{},</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585430d3f02852a8a9fac45e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"credential"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/credentials/585430d3f02852a8a9fac45e"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"CMS primary"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keys"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"oauth"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"secret1"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585430d3f02852a8a9fac45d"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/585430d3f02852a8a9fac45d"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585430d2f02852a8a9fac456"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/585430d2f02852a8a9fac456"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585430d3f02852a8a9fac45f"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"credential"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/credentials/585430d3f02852a8a9fac45f"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Refined CRM Manager login"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keys"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"oauth"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"secret2"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"allowOption"</span><span class="p">:</span><span class="s2">"enabled"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585430d3f02852a8a9fac45d"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/585430d3f02852a8a9fac45d"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585430d2f02852a8a9fac457"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/585430d2f02852a8a9fac457"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"agent"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59a410d76b670400182f190e"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"agent"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/agents/59a410d76b670400182f190e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/credentials"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve all credentials belonging to user&rsquo;s organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/credentials/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">filter[component]</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Only credentials belong to the given component id</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a list of credentials if the call succeeded.</p>

<h2 id="retrieve-a-credential-by-id">Retrieve a credential by ID</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/credentials/<span class="o">{</span>CREDENTIAL_ID<span class="o">}</span>/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">  
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59f9f2ba112f28001921f274"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"credential"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/credentials/59f9f2ba112f28001921f274"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"SFTP account"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keys"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"host"</span><span class="p">:</span><span class="s2">"sftp.company.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"lord"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="p">:</span><span class="s2">"teststetr"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59f747c33f1d3c001901a44e"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59f747c33f1d3c001901a44e"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"56793fb4d8057406000000f7"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/56793fb4d8057406000000f7"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve a credential by its identifier. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/credentials/{CREDENTIAL_ID}/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">CREDENTIAL_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Credential identifier</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a credential object if the call succeeded.</p>

<h2 id="create-a-credential">Create a credential</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/credentials/ <span class="se">\</span>
    -X POST <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
        "data": {
            "type": "credential",
            "attributes": {
                "name": "Spreadsheet",
                    "keys": {
                        "oauth": {
                            "key": "secret1"
                        }
                }
            },
            "relationships": {
                "component": {
                    "data": {
                        "id": "585430d2f02852a8a9fac456",
                        "type": "component"
                    }
                },
                "agent": {
                    "data": {
                        "id": "59a410d76b670400182f190e",
                        "type": "agent"
                    }
                }
            }
        }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">  
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5abe11edbec1cf00078b81d1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"credential"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/credentials/5abe11edbec1cf00078b81d1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"luzho4ek2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keys"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"host"</span><span class="p">:</span><span class="s2">"sftp.company.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"lord"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="p">:</span><span class="s2">"hdhajdha"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3562c68ed850019bde27f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d3562c68ed850019bde27f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"56793fb4d8057406000000f7"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/56793fb4d8057406000000f7"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"agent"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"agent"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/agents/5a09deda2d5f49665afb739a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create a credential.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/credentials/</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">credential</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Credential name. An automatic name will be generated if the parameter is omitted</td>
</tr>
<tr>
<td style="text-align: left">relationships.component.data.id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">The component id this credential is for</td>
</tr>
<tr>
<td style="text-align: left">relationships.component.data.type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">component</code></td>
</tr>
<tr>
<td style="text-align: left">relationships.agent</td>
<td style="text-align: left">no</td>
<td style="text-align: left">The agent relation object</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.id</td>
<td style="text-align: left">no</td>
<td style="text-align: left">The agent id this credential is for</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.type</td>
<td style="text-align: left">no</td>
<td style="text-align: left">A value must be <code class="prettyprint">agent</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.keys</td>
<td style="text-align: left">no</td>
<td style="text-align: left">An object which represents component&rsquo;s configuration (OAuth keys, etc.)</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns credential object if the call succeeded.</p>

<h2 id="update-a-credential">Update a credential</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/credentials/<span class="o">{</span>CREDENTIAL_ID<span class="o">}</span>/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -X PATCH <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
        "data": {
            "id": "585430d3f02852a8a9fac45e",
            "type": "credential",
            "attributes": {
                "keys": {
                    "key1": "updated value"  
                }
            },                     
            "relationships": {
               "agent": {
                   "data": {
                       "id": "59a410d76b670400182f190e",
                           "type": "agent"
                       }
                   }
               }
           }
        }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">  
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5aaff19dbd6d6400079b4624"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"credential"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/credentials/5aaff19dbd6d6400079b4624"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"luzho4ek777"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"keys"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"host"</span><span class="p">:</span><span class="s2">"sftp.company.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"asssssa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"password"</span><span class="p">:</span><span class="s2">"qweqweqw"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">  
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3562c68ed850019bde27f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d3562c68ed850019bde27f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"56793fb4d8057406000000f7"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/56793fb4d8057406000000f7"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"agent"</span><span class="p">:{</span><span class="w">  
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"agent"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">  
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/agents/5a09deda2d5f49665afb739a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to update a credential.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH https://api.elastic.io/v2/credentials/{CREDENTIAL_ID}/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">CREDENTIAL_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Credential ID</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be the same as URL parameter <code class="prettyprint">CREDENTIAL_ID</code></td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">credential</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Credential name. Will remain untouched if value omitted.</td>
</tr>
<tr>
<td style="text-align: left">attributes.keys</td>
<td style="text-align: left">no</td>
<td style="text-align: left">An object which represents component&rsquo;s configuration. Will remain untouched if value omitted. Please note, that <code class="prettyprint">keys</code> object is overwritten entirely.</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent</td>
<td style="text-align: left">no</td>
<td style="text-align: left">The agent relation object. Will remain untouched if omitted.</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.id</td>
<td style="text-align: left">no</td>
<td style="text-align: left">The agent id this credential is for.</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.type</td>
<td style="text-align: left">no</td>
<td style="text-align: left">A value must be <code class="prettyprint">agent</code></td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a modified credential object if the call succeeded.</p>

<h2 id="delete-a-credential">Delete a credential</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/credentials/<span class="o">{</span>CREDENTIAL_ID<span class="o">}</span>/ <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This resource allows you to delete a credential.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/credentials/{CREDENTIAL_ID}/</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">CREDENTIAL_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Credential ID</td>
</tr>
</tbody></table>

          <h1 id="data-samples">Data samples</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve data sample</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Create data sample</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Update data sample</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<h2 id="retrieve-data-sample">Retrieve data sample</h2>

<p>This resource allows you to retrieve data sample.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/data-samples/<span class="o">{</span>DATASAMPLE_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"{DATASAMPLE_ID}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"data-sample"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/data-samples/585d389b90ea62ce348a478b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"component_version"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"latest"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"version"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/5863f7136ef9da255ad9a9bc/versions/latest"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5863f7136ef9da255ad9a9bc"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/5863f7136ef9da255ad9a9bc"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/${client.id}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"method"</span><span class="p">:</span><span class="s2">"hello123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"foo"</span><span class="p">:</span><span class="s2">"bar1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"baz"</span><span class="p">:</span><span class="s2">"qwe1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h4 id="authorization">Authorization</h4>

<p>A member of an organization can get any sample from own organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/data-samples/{DATASAMPLE_ID}</code></p>

<h2 id="create-data-sample">Create data sample</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/data-samples <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
        "data": {
            "type": "data-sample",
            "attributes": {
                "method": "hello123",
                "result": {
                    "foo": "bar",
                    "baz": "foo"
                }
            },
            "relationships": {
                "component": {
                    "data": {
                        "id": "5863f7136ef9da255ad9a9bc",
                        "type": "component"
                    }
                },
                "component_version": {
                    "data": {
                        "id": "latest",
                        "type": "version"
                    }
                }
            }
        }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"data-sample"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/data-samples/585d389b90ea62ce348a478b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"component_version"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"latest"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"version"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/5863f7136ef9da255ad9a9bc/versions/latest"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5863f7136ef9da255ad9a9bc"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/5863f7136ef9da255ad9a9bc"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/${client.id}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"method"</span><span class="p">:</span><span class="s2">"hello123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"foo"</span><span class="p">:</span><span class="s2">"bar1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"baz"</span><span class="p">:</span><span class="s2">"qwe1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/data-samples</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">data-sample</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.method</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Component&rsquo;s action or trigger name.</td>
</tr>
<tr>
<td style="text-align: left">attributes.result</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Data sample body</td>
</tr>
<tr>
<td style="text-align: left">relationships.component.data.id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Component&rsquo;s id</td>
</tr>
<tr>
<td style="text-align: left">relationships.component_version.data.id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Revision of the component’s build. Use latest to retrieve the descriptor of the most recent successful build.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns data sample object if the call succeeded.</p>

<h2 id="update-data-sample">Update data sample</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/data-samples/<span class="o">{</span>DATASAMPLE_ID<span class="o">}</span> <span class="se">\</span>
   -X PATCH <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
        "data": {
            "type": "data-sample",
            "attributes": {
                "method": "hello123",
                "result": {
                    "foo": "bar",
                    "baz": "foo"
                }
            }
        }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"data-sample"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/data-samples/585d389b90ea62ce348a478b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"component_version"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"latest"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"version"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/5863f7136ef9da255ad9a9bc/versions/latest"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"component"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5863f7136ef9da255ad9a9bc"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"component"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/components/5863f7136ef9da255ad9a9bc"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/${client.id}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"method"</span><span class="p">:</span><span class="s2">"hello123"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"foo"</span><span class="p">:</span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"baz"</span><span class="p">:</span><span class="s2">"foo"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH https://api.elastic.io/v2/data-samples/{DATASAMPLE_ID}</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">data-sample</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.result</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Data sample body</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns updated data sample object if the call succeeded.</p>

          <h1 id="flows">Flows</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all flows</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve a flow by ID</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Create a flow</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Update a flow</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Start a flow</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Stop a flow</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Delete a flow</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-flows">Retrieve all flows</h2>

<blockquote>
<p>Example Request (with custom paging):</p>
</blockquote>
<pre><code class="highlight shell"> curl <span class="s1">'https://api.elastic.io/v2/flows?page[size]=20&amp;page[number]=1'</span> <span class="se">\</span>
   -g -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Request (with filter):</p>
</blockquote>
<pre><code class="highlight shell"> curl <span class="s1">'https://api.elastic.io/v2/flows?filter[status]=active'</span> <span class="se">\</span>
   -g -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Request (with search):</p>
</blockquote>
<pre><code class="highlight shell"> curl <span class="s1">'https://api.elastic.io/v2/flows?search=webhook'</span> <span class="se">\</span>
   -g -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> 
</code></pre>

<blockquote>
<p>Example Request (with custom sorting):</p>
</blockquote>
<pre><code class="highlight shell"> curl <span class="s1">'https://api.elastic.io/v2/flows?sort=-updated_at'</span> <span class="se">\</span>
   -g -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585918da586224001b96de89"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Timer to E-Mail Test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"ordinary"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.825Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"default_mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.923Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/timer:timer"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"interval"</span><span class="p">:</span><span class="s2">"minute"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/email:send"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"mapper:step_1:step_2"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"config"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"condition"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mapper"</span><span class="p">:{</span><span class="w">
                  </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"\"test@example.com\""</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"subject"</span><span class="p">:</span><span class="s2">"\"StrongMapper\""</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"textBody"</span><span class="p">:</span><span class="s2">"Address.Street"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"560e5a27734d480a00000002"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/560e5a27734d480a00000002"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"573dd76962436c349f000003"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/573dd76962436c349f000003"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"versions"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"latest_version"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-version"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"per_page"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve flows.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/flows/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page[size]</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Amount of items per page. Default is <code class="prettyprint">50</code>.</td>
</tr>
<tr>
<td style="text-align: left">page[number]</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Number of page you want to display. Default is <code class="prettyprint">1</code>.</td>
</tr>
<tr>
<td style="text-align: left">filter[has_draft]</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Filter flows only with or without a draft. May be <code class="prettyprint">true</code> or <code class="prettyprint">false</code>.</td>
</tr>
<tr>
<td style="text-align: left">filter[status]</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Filter by <code class="prettyprint">status</code>. May be any of: <code class="prettyprint">active</code>, <code class="prettyprint">inactive</code>.</td>
</tr>
<tr>
<td style="text-align: left">filter[type]</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Filter by flow <code class="prettyprint">type</code>. May be any of: <code class="prettyprint">ordinary</code>, <code class="prettyprint">long_running</code>.</td>
</tr>
<tr>
<td style="text-align: left">filter[user]</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Filter by <code class="prettyprint">user</code>. Must be <code class="prettyprint">id</code> of <code class="prettyprint">User</code> who created the flow. <code class="prettyprint">user</code> could be found in relationships of the flow.</td>
</tr>
<tr>
<td style="text-align: left">sort</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Sort flows list by certain field. May be <code class="prettyprint">created_at</code>, <code class="prettyprint">updated_at</code> or <code class="prettyprint">name</code>. Prefix field name with <code class="prettyprint">-</code> for reversed (desc) order e.g. <code class="prettyprint">sort=-updated_at</code>. Default sort is by <code class="prettyprint">id</code>.</td>
</tr>
<tr>
<td style="text-align: left">search</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Search flows by a word or a phrase contained in a <code class="prettyprint">description</code> OR in a <code class="prettyprint">name</code>. Behavior is similar to operator <code class="prettyprint">LIKE</code> in SQL. Case insensitive. Leading/following spaces are trimmed.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns all flows belonging to the given user. If the user is a member of an organization,
all the flows of the organization are returned. If the user is a member in multiple organizations, the given API key is
used to match the proper organization.</p>

<h2 id="retrieve-a-flow-by-id">Retrieve a flow by ID</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>
<pre><code class="highlight javascript"><span class="nx">TDB</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585918da586224001b96de89"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Timer to E-Mail Test"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"ordinary"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.825Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"current_status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"default_mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.923Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/timer:timer"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"interval"</span><span class="p">:</span><span class="s2">"minute"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/email:send"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"mapper:step_1:step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"config"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"condition"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"mapper"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"\"test@example.com\""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subject"</span><span class="p">:</span><span class="s2">"\"StrongMapper\""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"textBody"</span><span class="p">:</span><span class="s2">"Address.Street"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"560e5a27734d480a00000002"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/560e5a27734d480a00000002"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"573dd76962436c349f000003"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/573dd76962436c349f000003"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"versions"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"latest_version"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-version"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve a flow by its identifier. If the flow with given ID does not belong to the current
user or to one of his organizations, an error is returned.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/flows/{FLOW_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Flow identifier</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The flow with given ID</p>

<h2 id="create-a-flow">Create a flow</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl -X POST https://api.elastic.io/v2/flows <span class="se">\</span>
  -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
     {
    "data": {
        "attributes": {
            "default_mapper_type": "jsonata",
            "type": "ordinary",
            "name": "Timer to E-Mail",
            "description": null,
            "cron": null,
            "graph": {
                "nodes": [
                    {
                        "id": "step_1",
                        "command": "elasticio/timer:timer@latest",
                        "fields": {
                            "interval": "minute"
                        }
                     },
                    {
                        "command": "elasticio/email:send@latest",
                        "fields": {},
                        "id": "step_2"
                                            }
                ],
                "edges": [
                    {
                        "config": {
                            "mapper_type": "jsonata",
                            "mapper": {
                                "to": "info@acme.org",
                                "subject": "Subject",
                                "textBody": "fireTime"
                            }
                           },
                        "source": "step_1",
                        "target": "step_2"
                    }
                ]
            }
        },
        "type": "flow"
    }
}'</span>

</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585918da586224001b96de89"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Timer to E-Mail Test"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"ordinary"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.825Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"current_status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"default_mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.923Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/timer:timer"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"interval"</span><span class="p">:</span><span class="s2">"minute"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/email:send"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"config"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"mapper"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"info@acme.org"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subject"</span><span class="p">:</span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"textBody"</span><span class="p">:</span><span class="s2">"FireTime"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"560e5a27734d480a00000002"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/560e5a27734d480a00000002"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"573dd76962436c349f000003"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/573dd76962436c349f000003"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"versions"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"latest_version"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-version"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create a new flow.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/flows/</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">flow</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow name</td>
</tr>
<tr>
<td style="text-align: left">attributes.type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow type. May be any of: <code class="prettyprint">ordinary</code>, <code class="prettyprint">long_running</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.graph</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow graph representing component connections</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns the created flow</p>

<h2 id="update-a-flow">Update a flow</h2>

<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span> <span class="se">\</span>
   -X PATCH <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
          "data": {
            "type": "flow",
            "id": "{FLOW_ID}",
            "attributes": {
              "name": "this is a test task"
            }
          }
    }'</span>

</code></pre>

<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585918da586224001b96de89"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Timer to E-Mail Test"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"ordinary"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.825Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"current_status"</span><span class="p">:</span><span class="s2">"inactive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"default_mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-03-27T15:39:02.923Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/timer:timer"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"interval"</span><span class="p">:</span><span class="s2">"minute"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/email:send"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"config"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"mapper"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"info@acme.org"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subject"</span><span class="p">:</span><span class="s2">"Test"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"textBody"</span><span class="p">:</span><span class="s2">"FireTime"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"560e5a27734d480a00000002"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/560e5a27734d480a00000002"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"573dd76962436c349f000003"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/573dd76962436c349f000003"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"versions"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"latest_version"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-version"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"related"</span><span class="p">:</span><span class="s2">"/v2/flows/585918da586224001b96de89/versions/787513ee82625ef46bc10372cb6485a535b54c5f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to update the given flow.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH https://api.elastic.io/v2/flows/{FLOW_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow ID</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">flow</code></td>
</tr>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">ID of the flow you want to update</td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Flow name</td>
</tr>
<tr>
<td style="text-align: left">attributes.type</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Flow type. May be any of: <code class="prettyprint">ordinary</code>, <code class="prettyprint">long_running</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.graph</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Flow graph representing component connections</td>
</tr>
<tr>
<td style="text-align: left">attributes.cron</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Cron expression representing flow timing</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns the updated flow</p>

<h2 id="start-a-flow">Start a flow</h2>

<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/start <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>

<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="s">{</span>
<span class="s">  "data":{},</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint starts a flow with given ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/flows/{FLOW_ID}/start</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Flow identifier</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Empty response</p>

<h2 id="stop-a-flow">Stop a flow</h2>

<blockquote>
<p>Example request</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/stop <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>

<blockquote>
<p>Example response</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="s">{</span>
<span class="s">  "data":{},</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This endpoint stops a flow with given ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/flows/{FLOW_ID}/stop</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Flow identifier</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Empty response</p>

<h2 id="delete-a-flow">Delete a flow</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<p>This resource allows you to delete a flow.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/flows/{FLOW_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow ID</td>
</tr>
</tbody></table>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight shell">HTTP/1.1 204 No Content
</code></pre>

          <h1 id="flow-versions">Flow versions</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all flow versions</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve flow version by hash</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-flow-versions">Retrieve all flow versions</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/versions?page[size]<span class="o">=</span>20&amp;page[number]<span class="o">=</span>1 <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"af65130306caf1c421708a1cfe7edcb56900a6af"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-version"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5ab0eeabbd6d6400079b4628/versions/af65130306caf1c421708a1cfe7edcb56900a6af"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Node.js Code to Node.js Code draft 2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:executeTrigger@latest"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"//Your NodeJS code"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:execute@latest"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"// Your NodeJS code"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:execute@latest"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"// Your NodeJS code"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1:step_2"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1:step_3"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-20T14:12:54.361Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d22e7eeb865b0018adc248"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"flow"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5ab0eeabbd6d6400079b4628"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5ab0eeabbd6d6400079b4628"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"per_page"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>These versions represent the history of changes of the flow and are sorted chronologically by <code class="prettyprint">created_at</code>.</p>

<p>Each version has an <code class="prettyprint">id</code> and represents a flow&rsquo;s state at the given <code class="prettyprint">created_at</code> time.
It also exposes a relationship to the author of the change.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/flows/{FLOW_ID}/versions</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Default</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Flow identifier</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">page[size]</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Amount of items per page</td>
<td style="text-align: left">50</td>
</tr>
<tr>
<td style="text-align: left">page[number]</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Number of page you want to display</td>
<td style="text-align: left">1</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>The list of versions for the specified flow.</p>

<h2 id="retrieve-flow-version-by-hash">Retrieve flow version by hash</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/versions/<span class="o">{</span>VERSION_HASH<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"af65130306caf1c421708a1cfe7edcb56900a6af"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-version"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5ab0eeabbd6d6400079b4628/versions/af65130306caf1c421708a1cfe7edcb56900a6af"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Node.js Code to Node.js Code draft 2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:executeTrigger@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"//Your NodeJS code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:execute@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"// Your NodeJS code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:execute@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"// Your NodeJS code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1:step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1:step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-20T14:12:54.361Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d22e7eeb865b0018adc248"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"flow"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5ab0eeabbd6d6400079b4628"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5ab0eeabbd6d6400079b4628"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows to you retrieve specific version of the flow by its version hash.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/flows/{FLOW_ID}/versions/{VERSION_HASH}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Flow identifier</td>
</tr>
<tr>
<td style="text-align: left">VERSION_HASH</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Version hash</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Specific version of the flow.</p>

          <h1 id="flow-drafts">Flow drafts</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve a flow draft</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Create/update a flow draft</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Delete a flow draft</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
</tbody></table>

<h2 id="retrieve-a-flow-draft">Retrieve a flow draft</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/draft <span class="se">\</span>
   -X GET <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5abe0cabaa56a1749856226b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-draft"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5abbb9d4bc984b000739761a/draft"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"2803ANode.js Code to E-Mail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cron"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/timer:timer@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"agent_id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"interval"</span><span class="p">:</span><span class="s2">"minute"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/email:send@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"agent_id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:execute@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"agent_id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"//Your NodeJS code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1:step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"mapper:step_3:step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"config"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"condition"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"mapper"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"textBody"</span><span class="p">:</span><span class="s2">"message"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subject"</span><span class="p">:</span><span class="s2">"\"2803_SW)RT\""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"\"test@example.com\""</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-30T10:08:43.582Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-03-30T10:08:43.582Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3562c68ed850019bde27f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d3562c68ed850019bde27f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"flow"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5abbb9d4bc984b000739761a"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5abbb9d4bc984b000739761a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to get a flow draft.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/flows/{FLOW_ID}/draft</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow ID</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns a flow draft</p>

<h2 id="create/update-a-flow-draft">Create/update a flow draft</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/draft <span class="se">\</span>
   -X PUT <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
      "data": {
        "type": "flow-draft",
        "attributes": {
          "name": "Timer to E-Mail",
          "description": "Some real description",
          "graph": {
            "nodes": [
              {
                "id": "step_1",
                "command": "elasticio/timer:timer",
                "fields": {
                  "interval": "minute"
                }
              },
              {
                "id": "step_2",
                "command": "elasticio/email:send"
              }
            ],
            "edges": [
              {
                "source": "step_1",
                "target": "step_2",
                "config": {
                  "mapper": {
                    "to": "info@acme.org",
                    "subject": "Test",
                    "textBody": "{{fireTime}}"
                  }
                }
              }
            ]
          }
        }
      }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5abe0cabaa56a1749856226b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow-draft"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5abbb9d4bc984b000739761a/draft"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"2803ANode.js Code to E-Mail"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cron"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"graph"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"nodes"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/timer:timer@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"agent_id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"interval"</span><span class="p">:</span><span class="s2">"minute"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/email:send@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"agent_id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"command"</span><span class="p">:</span><span class="s2">"elasticio/code:execute@latest"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"agent_id"</span><span class="p">:</span><span class="s2">"5a09deda2d5f49665afb739a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fields"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"code"</span><span class="p">:</span><span class="s2">"//Your NodeJS code"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"edges"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"step_1:step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"mapper:step_3:step_2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"config"</span><span class="p">:{</span><span class="w">
              </span><span class="s2">"mapper_type"</span><span class="p">:</span><span class="s2">"jsonata"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"condition"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"mapper"</span><span class="p">:{</span><span class="w">
                </span><span class="s2">"textBody"</span><span class="p">:</span><span class="s2">"message"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subject"</span><span class="p">:</span><span class="s2">"\"2803_SW)RT\""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"to"</span><span class="p">:</span><span class="s2">"\"test@example.com\""</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="s2">"step_3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"target"</span><span class="p">:</span><span class="s2">"step_2"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="s2">"2018-03-30T10:08:43.582Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="s2">"2018-03-30T10:08:43.582Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3562c68ed850019bde27f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d3562c68ed850019bde27f"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"flow"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5abbb9d4bc984b000739761a"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"flow"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/flows/5abbb9d4bc984b000739761a"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create/update a flow draft.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.elastic.io/v2/flows/{FLOW_ID}/draft</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow ID</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">flow-draft</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Flow name</td>
</tr>
<tr>
<td style="text-align: left">attributes.description</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Flow description</td>
</tr>
<tr>
<td style="text-align: left">attributes.graph</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Flow graph representing component connections</td>
</tr>
<tr>
<td style="text-align: left">attributes.cron</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Cron expression</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns the created/updated flow draft</p>

<h2 id="delete-a-flow-draft">Delete a flow draft</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/flows/<span class="o">{</span>FLOW_ID<span class="o">}</span>/draft <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<p>This resource allows you to delete a flow draft.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/flows/{FLOW_ID}/draft</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">FLOW_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Flow ID</td>
</tr>
</tbody></table>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight shell">HTTP/1.1 204 No Content
</code></pre>

          <h1 id="lookup-tables-(deprecated)">Lookup tables (Deprecated)</h1>

<aside class="warning">
<b>Lookup tables has been deprecated. Please use <a href="http://docs.jsonata.org/object-functions.html">JSONata $lookup</a> instead.</b>
</aside>

<h2 id="retrieve-all-lookup-tables">Retrieve all lookup tables</h2>

<p>This resource allows you to retrieve all lookup tables.</p>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/lookups <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight json"><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"lookup"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5863f65ecc753f2441c88e68"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"lookup title"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"value"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/585d389b90ea62ce348a478b"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"58400dc7c9ab5757f8ef1f81"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/58400dc7c9ab5757f8ef1f81"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/lookups</code></p>

<h2 id="create-a-lookup-table">Create a lookup table</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/lookups <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
      "data": {
          "type": "lookup",
          "attributes": {
              "title": "lookup example",
              "data": {
                  "key": "value"
              }
          }
      }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"lookup"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5863f7136ef9da255ad9a9bc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"mylookuptitle"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"value"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"585d389b90ea62ce348a478b"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/585d389b90ea62ce348a478b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"58400dc7c9ab5757f8ef1f81"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/58400dc7c9ab5757f8ef1f81"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/lookups</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">lookup</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.title</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Lookup table title.</td>
</tr>
<tr>
<td style="text-align: left">attributes.data</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A JSON object representing a lookup table</td>
</tr>
</tbody></table>

<h2 id="update-a-lookup-table">Update a lookup table</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/lookups/<span class="o">{</span>LOOKUP_ID<span class="o">}</span> <span class="se">\</span>
   -X PUT <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
      "data": {
          "type": "lookup",
          "id": "{LookupId}",
          "attributes": {
              "title": "new lookup title",
              "data": {
                  "key": "value"
              }
          }
      }
   }'</span>
</code></pre>

<p>This resource allows you to update a lookup table.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://api.elastic.io/v2/lookups</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">LOOKUP_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Lookup table ID</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">lookup</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.title</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Lookup table title.</td>
</tr>
<tr>
<td style="text-align: left">attributes.data</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A JSON object representing a lookup table</td>
</tr>
</tbody></table>

<h2 id="delete-a-lookup-table">Delete a lookup table</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/organizations/<span class="o">{</span>LOOKUP_ID<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<p>This resource allows you to delete a lookup table.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/lookups/{LOOKUP_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">LOOKUP_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Lookup table ID</td>
</tr>
</tbody></table>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight shell">HTTP/1.1 204 No Content
</code></pre>

          <h1 id="organizations">Organizations</h1>

<h2 id="what-is-an-organizational-unit?">What is an Organizational unit?</h2>

<p>Organizations or the Organizational unit is meant to closely resemble real-life company organization hierarchy and the management.
An Organization has an integration project which uses several in-house developed integration components. Each component has its own development team including members of your Organization as well as some contract developers.
To put this simply: the Organization can be used to encompass all of those development teams as well as to create the integration flows using all of those developed components. However, there are more features included in this unit. Here is a summary of capabilities that Organization can enable:</p>

<ul>
<li>Share integration tasks with colleagues</li>
<li>Share secure account credentials</li>
<li>Share private components</li>
</ul>

<p>All of these possibilities can be enabled or disabled based on the level of access within the Organizational unit. All members of an Organization would have their access level or roles.
Currently, there are only 3 roles:</p>

<ul>
<li>Organization Admin - this role gives the holder all the rights within the Organizational unit</li>
<li>Integrator - this role is usually granted for designing the integration process by building the flows, etc</li>
<li>Guest - this role gives view-only rights to examine the work done by Integrators</li>
</ul>

<p>Each role is limited to the given Organization only. The same user in the platform can have different roles in different Organizations</p>

<p><em>Please note only the Tenant Administrator can create an Organizations unit and the first Admin for you. After the unit is created the Organization Admin can invite others and set their level of access. (Tenant is a higher structure, which includes all Organizations that belong to the white-label client)</em></p>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Create an organization</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Get organization</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Get a list of members of Organization</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Get a list of pending members (invites) of Organization</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Invite a user to organization</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Add a new member to organization</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Update membership in Organization</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Remove member from organization</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Delete Organization</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<h2 id="create-an-organization">Create an organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/organizations <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
       {
           "data": {         
               "type": "organization",
               "attributes": {
                   "name": "My Org"
               }
           }
       }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"58455777a0aec4f377faefc1",</span>
<span class="s">    "type":"organization",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/organizations/58455777a0aec4f377faefc1"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "name":"My Org"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>

</code></pre>

<p>This endpoint allows to create an organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/organizations</code></p>

<h4 id="authorization">Authorization</h4>

<p>This request is authorized to only a user with <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>yes</td>
<td>A value should be &ldquo;organization&rdquo;</td>
</tr>
<tr>
<td>attributes.name</td>
<td>yes</td>
<td>Name of the organization</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns Organization object if the call succeeded</p>

<h2 id="get-organization">Get organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>?include<span class="o">=</span>members,invites <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "meta":{},</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"58400dc7c9ab5757f8ef1f81",</span>
<span class="s">    "type":"organization",</span>
<span class="s">    "attributes":{</span>
<span class="s">      "name":"horns&amp;hoofs"</span>
<span class="s">    },</span>
<span class="s">    "relationships":{</span>
<span class="s">      "members":{</span>
<span class="s">        "data":[</span>
<span class="s">          {</span>
<span class="s">            "type":"member",</span>
<span class="s">            "id":"588f832b87d7c27c7d5cc37b"</span>
<span class="s">          },</span>
<span class="s">          {</span>
<span class="s">            "type":"member",</span>
<span class="s">            "id":"588f832b87d7c27c7d5cc37a"</span>
<span class="s">          }</span>
<span class="s">        ],</span>
<span class="s">        "links":{</span>
<span class="s">          "self":"/v2/organizations/58400dc7c9ab5757f8ef1f81/members"</span>
<span class="s">        }</span>
<span class="s">      },</span>
<span class="s">      "invites":{</span>
<span class="s">        "data":[</span>
<span class="s">          {</span>
<span class="s">            "type":"organization-invite",</span>
<span class="s">            "id":"588f832b87d7c27c7d5cc37e"</span>
<span class="s">          },</span>
<span class="s">          {</span>
<span class="s">            "type":"organization-invite",</span>
<span class="s">            "id":"588f832b87d7c27c7d5cc37f"</span>
<span class="s">          }</span>
<span class="s">        ],</span>
<span class="s">        "links":{</span>
<span class="s">          "self":"/v2/organizations/58400dc7c9ab5757f8ef1f81/members/pending"</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "included":[</span>
<span class="s">    {</span>
<span class="s">      "type":"member",</span>
<span class="s">      "id":"588f832b87d7c27c7d5cc37a",</span>
<span class="s">      "attributes":{</span>
<span class="s">        "first_name":"Santos",</span>
<span class="s">        "last_name":"Mitchell",</span>
<span class="s">        "email":"Katelynn_Fritsch@gmail.com",</span>
<span class="s">        "role":"admin"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "type":"member",</span>
<span class="s">      "id":"588f832b87d7c27c7d5cc37b",</span>
<span class="s">      "attributes":{</span>
<span class="s">        "first_name":"Kacie",</span>
<span class="s">        "last_name":"Howe",</span>
<span class="s">        "email":"Rusty_Goodwin@hotmail.com",</span>
<span class="s">        "role":"integrator"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "type":"organization-invite",</span>
<span class="s">      "id":"588f832b87d7c27c7d5cc37e",</span>
<span class="s">      "attributes":{</span>
<span class="s">        "email":"invited-1@example.org",</span>
<span class="s">        "role":"guest"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "type":"organization-invite",</span>
<span class="s">      "id":"588f832b87d7c27c7d5cc37f",</span>
<span class="s">      "attributes":{</span>
<span class="s">        "email":"invited-2@example.org",</span>
<span class="s">        "role":"integrator"</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ]</span>
<span class="s">}</span>
</code></pre>

<p>This endpoints returns an Organization object for certain organization id.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/organizations/ORGANIZATION_ID/</code></p>

<h4 id="authorization">Authorization</h4>

<p>Client has to be a member of the organization or to have <code class="prettyprint">TenantAdmin</code> role (contact support team to get this role).</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
</tbody></table>

<h3 id="url-query-parameters">URL Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>include</td>
<td>no</td>
<td>Whether include or not full resource objects in response for related entities. Possible values: <code class="prettyprint">members</code> and/or <code class="prettyprint">invites</code>.</td>
</tr>
</tbody></table>

<h2 id="get-a-list-of-members-of-organization">Get a list of members of Organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>/members/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "meta":{},</span>
<span class="s">  "data":[</span>
<span class="s">    {</span>
<span class="s">      "type":"member",</span>
<span class="s">      "id":"588f832b87d7c27c7d5cc37a",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/members/588f832b87d7c27c7d5cc37a"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "first_name":"Santos",</span>
<span class="s">        "last_name":"Mitchell",</span>
<span class="s">        "email":"Katelynn_Fritsch@gmail.com",</span>
<span class="s">        "role":"admin"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "type":"member",</span>
<span class="s">      "id":"588f832b87d7c27c7d5cc37b",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/members/588f832b87d7c27c7d5cc37b"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "first_name":"Kacie",</span>
<span class="s">        "last_name":"Howe",</span>
<span class="s">        "email":"Rusty_Goodwin@hotmail.com",</span>
<span class="s">        "role":"integrator"</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "links":{</span>
<span class="s">    "self":"/v2/organizations/{ORGANIZATION_ID}/members"</span>
<span class="s">  }</span>
<span class="s">}</span>

</code></pre>

<p>This endpoints returns a list of all members of certain Organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/organizations/ORGANIZATION_ID/members/</code></p>

<h4 id="authorization">Authorization</h4>

<p>Client has to be a member of the organization.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
</tbody></table>

<h2 id="get-a-list-of-pending-members-(invites)-of-organization">Get a list of pending members (invites) of Organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>/invites/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":[</span>
<span class="s">    {</span>
<span class="s">      "id":"5aafd335bd6d6400079b4617",</span>
<span class="s">      "type":"organization-invite",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/organizations/59d22e7eeb865b0018adc247/invite/5aafd335bd6d6400079b4617"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "email":"invited-1@example.org",</span>
<span class="s">        "role":"integrator"</span>
<span class="s">      }</span>
<span class="s">    },</span>
<span class="s">    {</span>
<span class="s">      "id":"5aafda89bd6d6400079b4618",</span>
<span class="s">      "type":"organization-invite",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/organizations/59d22e7eeb865b0018adc247/invite/5aafda89bd6d6400079b4618"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "email":"invited-2@example.org",</span>
<span class="s">        "role":"guest"</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<p>This endpoints returns a list of pending members (invites) for certain Organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/organizations/ORGANIZATION_ID/invites/</code></p>

<h4 id="authorization">Authorization</h4>

<p>Client has to be a member of the organization.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
</tbody></table>

<h2 id="invite-a-user-to-organization">Invite a user to organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>/invites/ <span class="se">\</span>
    -X POST <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
       "data": {
           "type": "invite",
           "attributes": {
               "email": "user-to-invite@my-company.com",
               "role": "admin"
           }
       }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"5abceeb7bc984b00073976f6",</span>
<span class="s">    "type":"organization-invite",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/organizations/59d22e7eeb865b0018adc247/invite/5abceeb7bc984b00073976f6"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "email":"user-to-invite@my-company.com",</span>
<span class="s">      "role":"admin"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>

</code></pre>

<p>This endpoint allows to invite a user to organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/organizations/{ORGANIZATION_ID}/invites/</code></p>

<h4 id="authorization">Authorization</h4>

<p>This request is authorized for organization members with role <code class="prettyprint">Admin</code> or <code class="prettyprint">TenantAdmin</code>.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>yes</td>
<td>A value should be &ldquo;invite&rdquo;.</td>
</tr>
<tr>
<td>attributes.email</td>
<td>yes</td>
<td>Email.</td>
</tr>
<tr>
<td>attributes.role</td>
<td>yes</td>
<td>Available roles are: admin, integrator and guest.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns invite object if the call succeeded</p>

<h2 id="add-a-new-member-to-organization">Add a new member to organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>/members/ <span class="se">\</span>
    -X POST <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
       "data": {
           "type": "member",
           "id": "{USER_ID}",
           "attributes": {
               "role": "{ROLE}"
           }
       }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "type":"member",</span>
<span class="s">    "id":"588f832b87d7c27c7d5cc37a",</span>
<span class="s">    "attributes":{</span>
<span class="s">      "first_name":"Santos",</span>
<span class="s">      "last_name":"Mitchell",</span>
<span class="s">      "email":"Santos_Mitchell@example.com",</span>
<span class="s">      "role":"admin"</span>
<span class="s">    }</span>
<span class="s">  }</span>
<span class="s">}</span>

</code></pre>

<p>This endpoint allows adding a user to a certain organization as a member. 
No invitation email will be sent. The user becomes a member immediately. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/organizations/{ORGANIZATION_ID}/members</code></p>

<h4 id="authorization">Authorization</h4>

<p>This request is authorized for a user with <code class="prettyprint">TenantAdmin</code> role only. Contact support team to get this role.</p>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>id of an already registered user, who will be added as a member of the organization</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>A value should be &ldquo;member&rdquo;.</td>
</tr>
<tr>
<td>attributes.role</td>
<td>yes</td>
<td>Available roles are: admin, integrator and guest.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns member object if the call succeeded</p>

<h2 id="update-membership-in-organization">Update membership in Organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>/members/<span class="o">{</span>USER_ID<span class="o">}</span>/ <span class="se">\</span>
    -X PATCH  <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
       "data": {
           "type": "member",
           "id": "{USER_ID}",
           "attributes": {
               "role": "{NEW_ROLE}"
           }
       }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"59f747c33f1d3c001901a44e",</span>
<span class="s">    "type":"member",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/members/59f747c33f1d3c001901a44e"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "role":"integrator"</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>

</code></pre>

<p>This endpoint allows updating a membership of a given user. Only <code class="prettyprint">role</code> attribute can be updated. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH https://api.elastic.io/v2/organizations/{ORGANIZATION_ID}/members/{USER_ID}/</code></p>

<h4 id="authorization">Authorization</h4>

<p>This request is authorized for organization members with role <code class="prettyprint">Admin</code>.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
<tr>
<td>USER_ID</td>
<td>The ID of the user to be updated</td>
</tr>
</tbody></table>

<h3 id="payload-parameters">Payload Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>yes</td>
<td>A value should be &ldquo;member&rdquo;.</td>
</tr>
<tr>
<td>id</td>
<td>yes</td>
<td>id of an already registered user, must match URL param {USER_ID}</td>
</tr>
<tr>
<td>attributes.role</td>
<td>yes</td>
<td>Available roles are: admin, integrator and guest.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns member object if the call succeeded</p>

<h2 id="remove-member-from-organization">Remove member from organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span>/members/<span class="o">{</span>USER_ID<span class="o">}</span>/ <span class="se">\</span>
    -X DELETE    <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight shell">HTTP/1.1 204 No Content
</code></pre>

<p>Remove a membership of the User in the Organization.
Ownership of those user&rsquo;s associated data will be transferred to admin User performing this operation:</p>

<ul>
<li>flows</li>
<li>credentials</li>
<li>lookups</li>
<li>developers teams membership </li>
</ul>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/organizations/{ORGANIZATION_ID}/members/{USER_ID}/</code></p>

<h4 id="authorization">Authorization</h4>

<p>This request is authorized for organization members with role <code class="prettyprint">Admin</code>.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
<tr>
<td>USER_ID</td>
<td>The ID of the user, which should leave the organization</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Responds with <code class="prettyprint">204 No content</code> if the call succeeded (with empty body). </p>

<h2 id="delete-organization">Delete Organization</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl -i https://api.elastic.io/v2/organizations/<span class="o">{</span>ORGANIZATION_ID<span class="o">}</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This endpoint will delete an Organization along with the following items that were inside the Organization:</p>

<ul>
<li>Accounts (Credentials)</li>
<li>Agents</li>
<li>DataSamples</li>
<li>InviteTokens</li>
<li>Lookups</li>
<li>Flow&rsquo;s DynamicMetadata</li>
<li>Flow&rsquo;s DynamicSelectModel</li>
<li>Flow&#39;sExecStat</li>
<li>Flow&rsquo;s ExecutionResult</li>
<li>Flow&rsquo;s MarathonEvent</li>
<li>Flow&rsquo;s RequestBin</li>
<li>Flow&rsquo;s TaskHooksData</li>
<li>Flow&rsquo;s TaskStats</li>
<li>Flow&rsquo;s TaskStatError</li>
<li>Flow&rsquo;s TaskVersion</li>
<li>Teams</li>
<li>Repos</li>
<li>RepoBuilds</li>
<li>User accounts who were only the members of the deleted Organization</li>
</ul>

<p><em>An Organization cannot be deleted if any of its Components are used in another Organization&rsquo;s Flow</em></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/organizations/{ORGANIZATION_ID} \</code></p>

<h4 id="authorization">Authorization</h4>

<p>This request is authorized for organization members with role <code class="prettyprint">Tenant Admin</code>.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ORGANIZATION_ID</td>
<td>The ID of the organization</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Responds with <code class="prettyprint">204 No content</code> if the call succeeded (with empty body).</p>

          <h1 id="scheduled-executions">Scheduled Executions</h1>

<h2 id="preamble">Preamble</h2>

<h3 id="what-are-scheduled-executions?">What are scheduled executions?</h3>

<p>In order to set up usage of some component in a certain <code class="prettyprint">node</code> in certain <code class="prettyprint">Flow</code>, some available configuration options
could not be described in advance, because they depend on the context in each case.</p>

<p>Let&rsquo;s consider an example when we have a component with a module, which allows retrieving a list of goods from some
e-commerce platform. In this case, we have few configuration parameters, which should be configured in order to use a
component in some flow, but all available options are different for different e-commerce installations.</p>

<p>The first such &ldquo;dynamic&rdquo; parameter is a category of a good. Each installation has its own set of goods categories.</p>

<p>Goods in different categories have different attributes set, so the structure of data in messages (metadata), produced
by the module is dependent on selected category. So metadata also should be retrieved for each case.</p>

<p>And finally, each client uses own credential in order to connect connector with the e-commerce platform installation.
Credential parameters have to be verified somehow before usage (at least in order to avoid confusing bugs while using
component).</p>

<p>In order to solve each of three problems above, there are so-called scheduled executions, which allow running special
methods of a component.These methods are:</p>

<ul>
<li><code class="prettyprint">selectModel</code> allows retrieving available options for certain parameter of configuration, when component/module is used in some node in some flow</li>
<li><code class="prettyprint">getMetaModel</code> allows retrieving metadata for certain configuration of some node of some flow</li>
<li><code class="prettyprint">verifyCredentials</code> allows verifying if a configuration of credential of a certain component is valid</li>
</ul>

<p>Each of the methods is executed in the same environment as a module of a component while executing of flows.</p>

<h3 id="scheduled-execution-workflow">Scheduled execution workflow</h3>

<p>A component execution is an asynchronous operation. Upon an client request an execution is scheduled
and needs to wait for the next available worker. Once a worker is available the component is executed
and the results are sent back to the client. Because the results of an execution cannot be created and
returned immediately the client needs to wait and poll for the results.</p>

<p>For more details about asynchronous REST please read <a href="http://restcookbook.com/Resources/asynchroneous-operations/">RESTful CookBook</a>
and <a href="https://www.adayinthelifeof.nl/2011/06/02/asynchronous-operations-in-rest/">A day in the life of - Asynchronous operations in REST</a>.</p>

<p>The following diagram displays the process of component scheduling:</p>

<ol>
<li>A method execution is scheduled by sending a request corresponding endpoint (see below). The API responds with <code class="prettyprint">202 Accepted</code>.
The resource in the <code class="prettyprint">Location</code> HTTP header is the URL to poll for execution results.</li>
<li>The execution result is polled periodically by sending requests to the polling resource<code class="prettyprint">exec/poll/{EXECUTION_ID}</code>.
The API responds with <code class="prettyprint">200 OK</code> if the result is not available yet. Please see how to <a href="#poll-a-result-of-an-execution">poll execution results</a>.</li>
<li>Once the result is available the polling resource responds with <code class="prettyprint">303 See Other</code>. The resource in the <code class="prettyprint">Location</code>
HTTP header is the URL to get the results of the execution. Please see how to <a href="#poll-a-result-of-an-execution">poll execution results</a>.</li>
<li>The results are retrieved from <code class="prettyprint">exec/result/{EXECUTION_ID}</code>. Please see how to <a href="#retrieve-execution-result">retrieve execution results</a>.</li>
</ol>

<p><img alt="Scheduled Executions" src="images/scheduled_executions.png" /></p>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Verify credentials</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve component’s metamodel</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve component’s select model</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Poll a result of an execution</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve execution result</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
</tbody></table>

<h2 id="verify-credentials">Verify credentials</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/versions/<span class="o">{</span>GIT_REVISION<span class="o">}</span>/verify-credential <span class="se">\</span>
 -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\ </span>
 -X POST -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
 {
     "data": {
         "type": "verify-credential",
         "attributes": {
             "fields": {
                 "apiKey" : "secret"
             }
         }
     }
 }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">'https://api.elastic.io/v2/exec/poll/58becb8259a65f18c5c60eb0'</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5aaf90a2d0516d00077556cf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"execution-result"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/exec/result/5aaf90a2d0516d00077556cf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">

      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"Pending request, waiting other process"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to verify credentials. The verification credential is an asynchronous process because it is
accomplished by sending a request to an external API. The entire process is described <a href="#preamble">here</a>. This page
describes how to perform the 1st step of this process. Please also read details on
<a href="#poll-a-result-of-an-execution">polling execution results</a> and <a href="#retrieve-execution-result">retrieving execution results</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/components/{COMPONENT_ID}/versions/{GIT_REVISION}/verify-credential</code></p>

<h4 id="authorization">Authorization</h4>

<p>The component should be accessible to the client.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Name of a component&rsquo;s module.</td>
</tr>
<tr>
<td style="text-align: left">GIT_REVISION</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Revision of the component’s build. For available versions see <a href="#retrieve-component-versions">here</a>. For latest version use <code class="prettyprint">latest</code>.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">verify-credential</code>.</td>
</tr>
<tr>
<td style="text-align: left">attributes.fields</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">An object which represents the configuration of credential. The semantics are same as in <a href="#create-a-credential">creating a credential</a>.</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.id</td>
<td style="text-align: left">No</td>
<td style="text-align: left">ID of the agent</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.type</td>
<td style="text-align: left">No</td>
<td style="text-align: left">In case, agent specified, this must be <code class="prettyprint">agent</code></td>
</tr>
</tbody></table>

<h2 id="retrieve-component&#39;s-metamodel">Retrieve component&rsquo;s metamodel</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/versions/<span class="o">{</span>GIT_REVISION<span class="o">}</span>/dynamic-metadata <span class="se">\</span>
 -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
 -X POST -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
 {
    "data": {
        "type": "dynamic-metadata",
        "attributes": {
            "module": "{MODULE}",
            "fields": {
                "some_field" : "value",
                "another_field" : "another_value"
            }
        },
        "relationships": {
            "credential": {
                "data": {
                    "id": "{CREDENTIAL_ID}",
                    "type": "credential"
                }
            }
        }
    }
 }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">'https://api.elastic.io/v2/exec/poll/58becb8359a65f18c5c60ec4'</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5aaf9d5bd0516d000775621c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"execution-result"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/exec/result/5aaf9d5bd0516d000775621c"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"result"</span><span class="p">:{</span><span class="w">

      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"Pending request, waiting other process"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve component&rsquo;s metamodel. The retrieval of metamodel is an asynchronous process
because it is accomplished by sending a request to an external API. The entire process is described <a href="#preamble">here</a>.
This page describes how to perform the 1st step of this process. Please also read details on
<a href="#poll-a-result-of-an-execution">polling execution results</a> and <a href="#retrieve-execution-result">retrieving execution results</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/components/{COMPONENT_ID}/versions/{GIT_REVISION}/dynamic-metadata</code></p>

<h4 id="authorization">Authorization</h4>

<p>The component should be accessible to the client.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Name of a component&rsquo;s module.</td>
</tr>
<tr>
<td style="text-align: left">GIT_REVISION</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Revision of the component’s build. For available versions see <a href="#retrieve-component-versions">here</a>. For latest version use <code class="prettyprint">latest</code>.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">dynamic-metadata</code>.</td>
</tr>
<tr>
<td style="text-align: left">attributes.module</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Name of the component&rsquo;s module as defined in <code class="prettyprint">component.json</code>.</td>
</tr>
<tr>
<td style="text-align: left">attributes.fields</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Contains values for component&rsquo;s fields. Semantics are same as defining fields for a node in a <a href="#create-a-flow">flow graph</a>.</td>
</tr>
<tr>
<td style="text-align: left">relationships.credential.data.id</td>
<td style="text-align: left">No</td>
<td style="text-align: left">If credentials are specified in the component&rsquo;s descriptor, <a href="#create-a-credential">create a credential</a> first and use its id.</td>
</tr>
<tr>
<td style="text-align: left">relationships.credential.data.type</td>
<td style="text-align: left">No</td>
<td style="text-align: left">If credentials are specified in the component&rsquo;s descriptor, value <code class="prettyprint">credential</code> must be used here.</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.id</td>
<td style="text-align: left">No</td>
<td style="text-align: left">ID of the agent</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.type</td>
<td style="text-align: left">No</td>
<td style="text-align: left">In case, agent specified, this must be <code class="prettyprint">agent</code></td>
</tr>
</tbody></table>

<h2 id="retrieve-component&#39;s-select-model">Retrieve component&rsquo;s select model</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/components/<span class="o">{</span>COMPONENT_ID<span class="o">}</span>/versions/<span class="o">{</span>GIT_HASH<span class="o">}</span>/select-model<span class="se">\</span>
 -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\ </span>
 -X POST -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
 {
    "data": {
        "type": "select-model",
        "attributes": {
            "module": "{MODULE}",
            "method": "{METHOD}",
            "fields": {
                "some_field" : "value",
                "another_field" : "another_value"
            }
        },
        "relationships": {
            "credential": {
                "data": {
                    "id": "{CREDENTIAL_ID}",
                    "type": "credential"
                }
            }
        }
    }
 }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">'https://api.elastic.io/v2/exec/poll/58becb8059a65f18c5c60e41'</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"5aafb9e1d0516d0007757b71",</span>
<span class="s">    "type":"execution-result",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/exec/result/5aafb9e1d0516d0007757b71"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "result":{</span>

<span class="w">      </span><span class="err">},</span><span class="w">
      </span><span class="s2">"status"</span><span class="err">:</span><span class="s2">"Pending request, waiting other process"</span><span class="w">
    </span><span class="err">}</span><span class="w">
  </span><span class="err">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="err">:</span><span class="p">{}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve component&rsquo;s select model. The retrieval of select model is an asynchronous process because it is
accomplished by sending a request to an external API. The entire process is described <a href="#preamble">here</a>. This page
describes how to perform the 1st step of this process. Please also read details on
<a href="#poll-a-result-of-an-execution">polling execution results</a> and <a href="#retrieve-execution-result">retrieving execution results</a>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/components/{COMPONENT_ID}/versions/{GIT_HASH}/select-model</code></p>

<h4 id="authorization">Authorization</h4>

<p>The component should be accessible to the client.</p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">COMPONENT_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Name of a component&rsquo;s module.</td>
</tr>
<tr>
<td style="text-align: left">GIT_REVISION</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Revision of the component’s build. For available versions see <a href="#retrieve-component-versions">here</a>. For latest version use <code class="prettyprint">latest</code>.</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">select-model</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.module</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Name of the component&rsquo;s module as defined in <code class="prettyprint">component.json</code>.</td>
</tr>
<tr>
<td style="text-align: left">attributes.method</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Name of the method, which returns select model data.</td>
</tr>
<tr>
<td style="text-align: left">attributes.fields</td>
<td style="text-align: left">Yes</td>
<td style="text-align: left">Contains values for component&rsquo;s fields. Semantics are same as defining fields for a node in a <a href="#create-a-flow">flow graph</a>.</td>
</tr>
<tr>
<td style="text-align: left">relationships.credential.data.id</td>
<td style="text-align: left">No</td>
<td style="text-align: left">If credentials are specified in the component&rsquo;s descriptor, <a href="#create-a-credential">create a credential</a> first and use its id.</td>
</tr>
<tr>
<td style="text-align: left">relationships.credential.data.type</td>
<td style="text-align: left">No</td>
<td style="text-align: left">If credentials are specified in the component&rsquo;s descriptor, value <code class="prettyprint">credential</code> must be used here.</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.id</td>
<td style="text-align: left">No</td>
<td style="text-align: left">ID of the agent</td>
</tr>
<tr>
<td style="text-align: left">relationships.agent.data.type</td>
<td style="text-align: left">No</td>
<td style="text-align: left">In case, agent specified, this must be <code class="prettyprint">agent</code></td>
</tr>
</tbody></table>

<h2 id="poll-a-result-of-an-execution">Poll a result of an execution</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/exec/poll/<span class="o">{</span>EXECUTION_ID<span class="o">}</span> <span class="se">\</span>
 -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Response &ldquo;In progress&rdquo;:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "type":"execution-result",</span>
<span class="s">    "id":"58becb8059a65f18c5c60e41",</span>
<span class="s">    "attributes":{</span>
<span class="s">      "result":{</span>

<span class="w">      </span><span class="err">},</span><span class="w">
      </span><span class="s2">"status"</span><span class="err">:</span><span class="s2">"Pending request, waiting other process"</span><span class="w">
    </span><span class="err">},</span><span class="w">
    </span><span class="s2">"links"</span><span class="err">:</span><span class="p">{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/exec/result/58becb8059a65f18c5c60e41"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="err">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="err">:</span><span class="p">{}</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Response &ldquo;Result ready&rdquo;:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">303</span> <span class="ne">See Other</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="na">Location</span><span class="p">:</span> <span class="s">/v2/exec/result/58becb8059a65f18c5c60e41</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to poll a result of an execution. Once the execution is done, the endpoint responds with
<code class="prettyprint">HTTP 303</code> and provides a resource for querying the result in the <code class="prettyprint">Location</code> header.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/exec/poll/{EXECUTION_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">EXECUTION_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Execution identifier.</td>
</tr>
</tbody></table>

<h3 id="response-status-codes">Response status codes</h3>

<table><thead>
<tr>
<th style="text-align: left">Status Code</th>
<th style="text-align: left">Header</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">200</td>
<td style="text-align: left">-</td>
<td style="text-align: left">The execution is still in progress.</td>
</tr>
<tr>
<td style="text-align: left">303</td>
<td style="text-align: left">Location</td>
<td style="text-align: left">The execution is finished and the result is ready. Resource to get the result is found in the <code class="prettyprint">Location</code> header.</td>
</tr>
<tr>
<td style="text-align: left">500</td>
<td style="text-align: left">-</td>
<td style="text-align: left">Internal server error</td>
</tr>
<tr>
<td style="text-align: left">404</td>
<td style="text-align: left">-</td>
<td style="text-align: left">The execution does not exist (e.g. an attempt to poll for a non scheduled execution was made)</td>
</tr>
</tbody></table>

<h2 id="retrieve-execution-result">Retrieve execution result</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/exec/result/<span class="o">{</span>EXECUTION_ID<span class="o">}</span>  <span class="se">\</span>
 -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Response</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":{</span>
<span class="s">    "id":"5aafcd56d0516d0007758cff",</span>
<span class="s">    "type":"execution-result",</span>
<span class="s">    "links":{</span>
<span class="s">      "self":"/v2/exec/result/5aafcd56d0516d0007758cff"</span>
<span class="s">    },</span>
<span class="s">    "attributes":{</span>
<span class="s">      "result":{</span>
<span class="s">        "data":{</span>
<span class="s">          "some_field_of_result":"value",</span>
<span class="s">          "another_field":"another_value"</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  },</span>
<span class="s">  "meta":{}</span>
<span class="s">}</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/exec/result/{EXECUTION_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">EXECUTION_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Execution identifier.</td>
</tr>
</tbody></table>

<h3 id="response-status-codes">Response status codes</h3>

<table><thead>
<tr>
<th style="text-align: left">Status Code</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">200</td>
<td style="text-align: left">The execution result is ready.</td>
</tr>
<tr>
<td style="text-align: left">409</td>
<td style="text-align: left">The execution result is not ready yet.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>This endpoint returns a result of the execution. When execution is in progress and result is not ready yet, HTTP status code 409 is returned.</p>

          <h1 id="ssh-keys">SSH keys</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all SSH keys</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X*</td>
</tr>
<tr>
<td>Create a new SSH key</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X*</td>
</tr>
<tr>
<td>Delete a SSH key</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X*</td>
<td style="text-align: center">X*</td>
</tr>
</tbody></table>

<p>*- only for ssh-keys, which belong to this user</p>

<h2 id="retrieve-all-ssh-keys">Retrieve all SSH keys</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/sshkeys/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5a4f59dbcbe7940019697ec5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"sshkey"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/sshkeys/5a4f59dbcbe7940019697ec5"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"ssh-key"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"test@example-UX430UQ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="s2">"fd:d4:98:92:ed:d7:3a:0c:a2:42:ff:78:57:15:88:fa"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d22e7eeb865b0018adc248"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{},</span><span class="w">
  </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/sshkeys"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve all SSH keys of the current user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/sshkeys/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns an ssh key&rsquo;s metadata object if the call succeeded.</p>

<h2 id="create-a-new-ssh-key">Create a new SSH key</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/sshkeys/ <span class="se">\</span>
    -X POST <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
"data": {
        "type": "sshkey",
        "attributes": {
            "key": "ssh-rsa YOUR KEY GOES HERE",
           "title": "My New Key"
         }
    }
}'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5aabedf5bd6d6400079b45f1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"sshkey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/sshkeys/5aabedf5bd6d6400079b45f1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"key"</span><span class="p">:</span><span class="s2">"ssh-key"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"1603testAndDelMe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="s2">"3a:2b:8e:7c:dc:82:3e:de:54:f4:58:8a:7d:55:fb:15"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"user"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d22e7eeb865b0018adc248"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create a new SSH key.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/sshkeys/</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">sshkey</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.key</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A valid RSA or DSA SSH public key.</td>
</tr>
<tr>
<td style="text-align: left">attributes.title</td>
<td style="text-align: left">no</td>
<td style="text-align: left">Title of the key</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns an ssh key&rsquo;s metadata object if the call succeeded.</p>

<h2 id="delete-a-ssh-key">Delete a SSH key</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/sshkeys/<span class="o">{</span>KEY_ID<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This resource allows you to delete a SSH key.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/sshkeys/{KEY_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">KEY_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">SSH key ID</td>
</tr>
</tbody></table>

          <h1 id="teams">Teams</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all teams</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Create a team</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Add a new member to a team</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Remove a member from a team</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Delete a team</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-teams">Retrieve all teams</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/teams/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
<span class="s">{</span>
<span class="s">  "data":[</span>
<span class="s">    {</span>
<span class="s">      "id":"5aa7de77a0c086000785c53e",</span>
<span class="s">      "type":"team",</span>
<span class="s">      "links":{</span>
<span class="s">        "self":"/v2/teams/5aa7de77a0c086000785c53e"</span>
<span class="s">      },</span>
<span class="s">      "attributes":{</span>
<span class="s">        "name":"Team_name"</span>
<span class="s">      },</span>
<span class="s">      "relationships":{</span>
<span class="s">        "organization":{</span>
<span class="s">          "data":{</span>
<span class="s">            "id":"59d341e9037f7200184a408b",</span>
<span class="s">            "type":"organization"</span>
<span class="s">          },</span>
<span class="s">          "links":{</span>
<span class="s">            "self":"/v2/organizations/59d341e9037f7200184a408b"</span>
<span class="s">          }</span>
<span class="s">        },</span>
<span class="s">        "users":{</span>
<span class="s">          "data":[</span>
<span class="s">            {</span>
<span class="s">              "id":"5a816bebcad2b40007adcaf2",</span>
<span class="s">              "type":"user"</span>
<span class="s">            }</span>
<span class="s">          ]</span>
<span class="s">        }</span>
<span class="s">      }</span>
<span class="s">    }</span>
<span class="s">  ],</span>
<span class="s">  "meta":{},</span>
<span class="s">  "links":{</span>
<span class="s">    "self":"/v2/teams"</span>
<span class="s">  }</span>
<span class="s">}</span>
</code></pre>

<p>This resource allows you to retrieve all teams the current user is member in.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/teams/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns teams metadata object if the call succeeded.</p>

<h2 id="create-a-team">Create a team</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/teams <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "data": {
            "attributes": {
                "name": "myteam"
            }
       }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5aabe01bbd6d6400079b45c4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/teams/5aabe01bbd6d6400079b45c4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"1503myteam"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d341e9037f7200184a408b"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d341e9037f7200184a408b"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"users"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create a new team.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/teams/</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">team</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.name</td>
<td style="text-align: left">no</td>
<td style="text-align: left">A team name.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns teams metadata object if the call succeeded.</p>

<h2 id="add-a-new-member-to-a-team">Add a new member to a team</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/teams/<span class="o">{</span>TEAM_ID<span class="o">}</span>/relationships/members <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "data": {
            "type": "user",
            "id": "{USER_ID}"
       }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3ace74a819c0018e9bb92"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"team"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/teams/59d3ace74a819c0018e9bb92"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Test_Team"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc247"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
          </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/59d22e7eeb865b0018adc247"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"users"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59f747c33f1d3c001901a44e"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3562c68ed850019bde27f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to add a new member to a team.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/teams/{TEAM_ID}/relationships/members</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">TEAM_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Team identifier</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">user</code></td>
</tr>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Id of an already registered user, who will be added as a member of the team</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns teams metadata object if the call succeeded.</p>

<h2 id="remove-a-member-from-a-team">Remove a member from a team</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/teams/<span class="o">{</span>TEAM_ID<span class="o">}</span>/relationships/members <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
   {
       "data": {
            "type": "user",
            "id": "{user_id}"
       }
   }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>This resource allows you to remove a member from a team.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/teams/{TEAM_ID}/relationships/members</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">TEAM_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Team identifier</td>
</tr>
</tbody></table>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">user</code></td>
</tr>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User identifier</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns teams metadata object if the call succeeded.</p>

<h2 id="delete-a-team">Delete a team</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell"> curl https://api.elastic.io/v2/teams/<span class="o">{</span>TEAM_ID<span class="o">}</span> <span class="se">\</span>
   -X DELETE <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</code></pre>

<p>This resource allows you to delete a team.
You cannot remove team which contains the repos, you should delete all repos first.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/teams/{TEAM_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">TEAM_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Team ID</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns empty body</p>

          <h1 id="agents">Agents</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve all agents</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Сreate agent</td>
<td style="text-align: center">-</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
</tbody></table>

<h2 id="retrieve-all-agents">Retrieve all agents</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/agents <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"{AGENT_ID}"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"agent"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/agents/{AGENT_ID}"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"agent title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_seen"</span><span class="p">:</span><span class="s2">"2017-10-04T19:02:19.188Z"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"{ORGANIZATION_ID}"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
                  </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/{ORGANIZATION_ID}"</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve all the agents belonging to the given organization.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/agents/</code></p>

<h3 id="returns">Returns</h3>

<p>Returns all the agents belonging to the given organization.</p>

<h2 id="Сreate-agent">Сreate agent</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/agents <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
      "data": {
        "type": "agent",
        "attributes": {
          "title": "agent title",
          "description": "agent description"
        }
      }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"{AGENT_ID}"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"agent"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/agents/{AGENT_ID}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"title"</span><span class="p">:</span><span class="s2">"agent title"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"description"</span><span class="p">:</span><span class="s2">"agent description"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"pending"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"relationships"</span><span class="p">:{</span><span class="w">
         </span><span class="s2">"organization"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"{ORGANIZATION_ID}"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"organization"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
               </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/organizations/{ORGANIZATION_ID}"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create a new agent. The agent is created in <code class="prettyprint">pending</code> state and our support is informed about it.
We will contact you within 2-3 working days.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/agents/</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">agent</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.title</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Agent title</td>
</tr>
<tr>
<td style="text-align: left">attributes.description</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Agent description</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Returns the created agent object.</p>

          <h1 id="users">Users</h1>

<table><thead>
<tr>
<th>Request / Role</th>
<th style="text-align: center">Tenant Admin</th>
<th style="text-align: center">Organization Admin</th>
<th style="text-align: center">Integrator</th>
<th style="text-align: center">Guest</th>
</tr>
</thead><tbody>
<tr>
<td>Retrieve your user</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve a user by ID</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
<td style="text-align: center">X</td>
</tr>
<tr>
<td>Retrieve all users</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Create a user</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Delete a user</td>
<td style="text-align: center">X</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<h2 id="retrieve-your-user">Retrieve your user</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users/me <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d22e7eeb865b0018adc248"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d22e7eeb865b0018adc248"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"company"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registered"</span><span class="p">:</span><span class="s2">"2017-10-02T12:18:06.274Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="s2">"2018-03-15T16:53:57.696Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve your user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/users/me</code></p>

<h4 id="returns">Returns</h4>

<p>Returns a user object if the call succeeded.</p>

<h2 id="retrieve-a-user-by-id">Retrieve a user by ID</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users/<span class="o">{</span>USER_ID<span class="o">}</span> <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"59d3562c68ed850019bde27f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/59d3562c68ed850019bde27f"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"company_name"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registered"</span><span class="p">:</span><span class="s2">"2017-10-03T09:19:40.598Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="s2">"2018-03-16T10:30:38.656Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to retrieve a user by ID.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/users/{USER_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">USER_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User identifier</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>This request is authorized to a user with <code class="prettyprint">Admin</code> role to retrieve users belong to his Organization. User with <code class="prettyprint">TenantAdmin</code> role (contact support to get this role) can retrieve users from all Organizations of the Tenant.</p>

<h4 id="returns">Returns</h4>

<p>Returns a user object if the call succeeded.</p>

<h2 id="retrieve-all-users">Retrieve all users</h2>

<blockquote>
<p>Example Request (with paging):</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users/?page[size]<span class="o">=</span>1&amp;page[number]<span class="o">=</span>5 <span class="se">\</span>
   -g <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response (with paging):</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"560e5a27734d480a00000002"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/560e5a27734d480a00000002"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"company_name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"registered"</span><span class="p">:</span><span class="s2">"2015-10-02T10:19:19.697Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_login"</span><span class="p">:</span><span class="s2">"2018-02-08T16:07:52.495Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"per_page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="mi">646</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="mi">646</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Example Request (default paging):</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users/ <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span>
</code></pre>

<blockquote>
<p>Example Response (default paging):</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"page"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"per_page"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total_pages"</span><span class="p">:</span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"588f8b04b84a6a7f3e47668d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Joannie"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Smitham"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"client@my.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Ward - Wiegand"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"588f8b04b84a6a7f3e47668e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Eulalia"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Hyatt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"user-2@my.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Pfannerstill and Sons"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"588f8b04b84a6a7f3e47668f"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Bertram"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Davis"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"user-1@aliens.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Auer, Ebert and Ledner"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"588f8b04b84a6a7f3e476690"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Marianne"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Sawayn"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"client@outcast.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"O'Kon, Abshire and Dooley"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"588f8b04b84a6a7f3e476691"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Esta"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Abbott"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"another@outcast.org"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Turcotte - Christiansen"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"588f8b04b84a6a7f3e476692"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"Kayleigh"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Howell"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"tenant-admin@example.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Zemlak, Thiel and O'Kon"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint returns a list of users.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.elastic.io/v2/users/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
<th style="text-align: left">Default</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">page[size]</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Amount of items per page</td>
<td style="text-align: left">50</td>
</tr>
<tr>
<td style="text-align: left">page[number]</td>
<td style="text-align: left">No</td>
<td style="text-align: left">Number of page you want to display</td>
<td style="text-align: left">1</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>This request is authorized for a user with <code class="prettyprint">TenantAdmin</code> role only. Contact support team to get this role.</p>

<h4 id="returns">Returns</h4>

<p>Returns a list of user objects if the call succeeded.</p>

<h2 id="create-a-user">Create a user</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users <span class="se">\</span>
   -X POST <span class="se">\</span>
   -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span> <span class="se">\</span>
   -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
   -H <span class="s1">'Content-Type: application/json'</span> -d <span class="s1">'
    {
        "data": {
            "type": "user",
            "attributes": {
                "first_name": "John",
                "last_name": "Doe",
                "email": "test@example.com",
                "password": "secret11",
                "company": "Doe &amp; Partners"
            },
            "relationships": {
                "organizations": {
                    "data": [
                        {"id": "54f4be3fe7d5224f91000001"}
                    ]
                }
            }
        }
    }'</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"5aabc258bd6d6400079b4592"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"links"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"self"</span><span class="p">:</span><span class="s2">"/v2/users/5aabc258bd6d6400079b4592"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"attributes"</span><span class="p">:{</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="s2">"John"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"test@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"company"</span><span class="p">:</span><span class="s2">"Doe &amp; Partners"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"registered"</span><span class="p">:</span><span class="s2">"2018-03-16T13:10:48.221Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_login"</span><span class="p">:</span><span class="s2">"2018-03-16T13:10:48.221Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"meta"</span><span class="p">:{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This resource allows you to create a user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.elastic.io/v2/users</code></p>

<h3 id="body-parameters">Body Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">A value must be <code class="prettyprint">user</code></td>
</tr>
<tr>
<td style="text-align: left">attributes.first_name</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User&rsquo;s first name.</td>
</tr>
<tr>
<td style="text-align: left">attributes.last_name</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User&rsquo;s last name.</td>
</tr>
<tr>
<td style="text-align: left">attributes.email</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User&rsquo;s email.</td>
</tr>
<tr>
<td style="text-align: left">attributes.password</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User&rsquo;s password.</td>
</tr>
<tr>
<td style="text-align: left">attributes.company</td>
<td style="text-align: left">no</td>
<td style="text-align: left">User&rsquo;s company.</td>
</tr>
<tr>
<td style="text-align: left">relationships.organizations.data</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">Organizations to join.</td>
</tr>
</tbody></table>

<h3 id="authorization">Authorization</h3>

<p>This request is authorized only for a user with <code class="prettyprint">TenantAdmin</code> role. Contact support team to get this role.</p>

<h3 id="returns">Returns</h3>

<p>New user objects will be provided with an <code class="prettyprint">id</code> field - this value cannot be created or edited by clients.</p>

<h2 id="delete-a-user">Delete a user</h2>

<blockquote>
<p>Example Request:</p>
</blockquote>
<pre><code class="highlight shell">curl https://api.elastic.io/v2/users/<span class="o">{</span>USER_ID<span class="o">}</span> <span class="se">\</span>
    -X DELETE <span class="se">\</span>
    -u <span class="o">{</span>EMAIL<span class="o">}</span>:<span class="o">{</span>APIKEY<span class="o">}</span>
</code></pre>

<blockquote>
<p>Example Response:</p>
</blockquote>
<pre><code class="highlight http"><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</code></pre>

<p>This resource allows you to delete a user. When a user is deleted the following data will be deleted as well:</p>

<ul>
<li>all teams, where the user is the only member</li>
<li>component repositories, which belongs to deleted teams</li>
<li>component builds, which belongs to deleted repositories</li>
<li>ssh keys</li>
<li>credentials</li>
<li>flows (active flows will be stopped)</li>
<li>user&rsquo;s object itself</li>
<li>all organizations, where the user is the only member</li>
</ul>

<h3 id="not-deleted-immediately">Not deleted immediately</h3>

<p>These data objects are deleted automatically (e.g. due to expiration), hence won&rsquo;t be deleted right after user deletion:</p>

<ul>
<li>flows activity records (which used in order to show runlog)</li>
<li>logs of flow execution and repo build</li>
<li>invitations to a team or an organization</li>
<li>notifications</li>
<li>slugs (TBD)</li>
</ul>

<h3 id="data-associated-with-organization">Data associated with organization</h3>

<ul>
<li>If this user is a member of any Organization which has one more member beside him/her then this user needs to leave this Organization before his/her profile can be deleted.</li>
<li>If this user is the only member of Organization(s) then he/she will be deleted along with all the unique data connected with this user.</li>
</ul>

<h3 id="public-components">Public components</h3>

<p>If there is any public component, associated to the user and the component is used in not deleted flows of someone else, the user can not be deleted automaticaly – contact technical support.</p>

<h3 id="authorization">Authorization</h3>

<p>This request is allowed with Organization Admin API key.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.elastic.io/v2/users/{USER_ID}</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Required</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">USER_ID</td>
<td style="text-align: left">yes</td>
<td style="text-align: left">User identifier</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
